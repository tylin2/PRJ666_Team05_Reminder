{"version":3,"sources":["components/nav/Nav.module.scss","pages/tasks/Task.module.scss","components/form/Form.module.scss","components/container/Container.module.scss","components/body/Body.module.scss","components/content/Content.module.scss","components/header/Header.module.scss","pages/project/Project.module.scss","pages/user/user.module.scss","components/nav/Nav.js","components/nav/navlink/NavLink.js","components/container/Container.js","components/body/Body.js","components/content/Content.js","components/header/Header.js","firebase.js","components/header/login/Account.js","components/header/login/Login.js","components/header/login/AuthNav.js","assets/img/logo.png","components/checkBox/CheckBox.js","pages/tasks/CreateTask2.js","contexts/AuthContext.js","pages/tasks/CreateTask.js","pages/tasks/EditTask.js","pages/tasks/DisplayTaskComp.js","pages/tasks/DisplayTask.js","pages/project/CreateProjectForm.js","pages/project/CreateProject.js","pages/tasks/taskItem.js","pages/tasks/taskList2.js","pages/tasks/Task.js","pages/calendar/Calendar.js","pages/project/ProjectItem.js","pages/project/ProjectList.js","pages/project/Project.js","pages/project/DisplayProjectComp.js","pages/project/EditProject.js","pages/project/DisplayProject.js","pages/project/CreateProTask.js","pages/user/UserServices.js","pages/user/EditUser.js","pages/user/Account.js","pages/user/Signup.js","pages/user/Login.js","pages/user/PrivateRoute.js","pages/user/ForgotPassword.js","App.js","reportWebVitals.js","index.js","pages/user/Signup.module.scss","components/checkBox/CheckBox.module.css","components/header/login/Login.module.scss","components/nav/navlink/NavLink.module.scss","components/form/Input.module.scss"],"names":["module","exports","Nav","props","class","styles","sidebar","sideNav","children","NavLink","className","isActive","sideNavItem","sideNavItemActive","onClick","clickPathHandler","to","href","sideNavLink","Container","container","Body","body","Content","content","Header","header","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","auth","GoogleAuthProvider","Account","useHistory","userNav","e","preventDefault","signOut","window","localStorage","removeItem","location","reload","userNav__iconBox","Login","AuthNav","useState","isAuth","setIsAuth","useEffect","getItem","CheckBox","classByPriority","checked","priority","rest","p1","p2","p3","p4","checkbox","type","icon","id","innerDiv","CreateTask2","name","descript","dueDate","onCreate","notification","onChange","handleDateChange","handlePriorityChange","handleNotification","check","setCheck","Card","style","width","card","onSubmit","Group","Label","placeholder","value","required","utils","DateFnsUtils","Button","color","background","border","fontSize","size","AuthContext","React","createContext","useAuth","useContext","AuthProvider","currentUser","setCurrentUser","loading","setLoading","token","setToken","email","password","a","signInWithEmailAndPassword","onAuthStateChanged","user","console","log","login","signup","createUserWithEmailAndPassword","logout","resetPassword","sendPasswordResetEmail","updateEmail","updatePassword","Provider","CreateTask","tasks","setTasks","inputs","setInputs","Date","setDueDate","setPriority","setNotification","history","addNewTask","task","idToken","userEmail","axios","post","headers","Authorization","response","data","_id","push","error","participants","moment","tz","toString","target","date","EditTask","onEdit","onCancel","paddingRight","paddingLeft","DisplayTaskComp","this","entry","priorityString","format","Component","DisplayTask","setError","match","params","isEditing","setIsEditing","getTask","editTask","put","updatedTask","get","taskOfid","concat","deleteTask","delete","existingTask","CreateProjectFrom","manager","CreateProject","projects","setProjects","useRef","addNewProject","project","createBy","TaskItem","onComplete","onDelete","isCompleted","taskLine","ListGroupItem","action","completed","uncompleted","taskNameThick","alarmIcon","disalbed","TaskList2","p1Count","p2Count","p3Count","p4Count","completedCount","unCompletedCount","entries","forEach","p1Tasks","filter","p2Tasks","p3Tasks","p4Tasks","sort","b","toISOString","split","join","localeCompare","sortRule","isPrioritySorted","sortIcon","onPrioritySorted","isCompletedHeader","ListGroup","map","textBox","alignLeft","P1_alignCenter","P2_alignCenter","P3_alignCenter","P4_alignCenter","Tasks","setIsPrioritySorted","task_id","fetchTasks","tasksOfuser","Calendar","title","events","setEvents","url","defaultView","plugins","dayGridPlugin","ProjectItem","totalTasks","setTotalTasks","completedTasks","setCompletedTasks","getTasks","tasksOfproject","Number","length","count","projectLine","projectNameThick","completion","Math","round","ProjectList","Projects","fetchProjects","projectsOfuser","DisplayProjectComp","comp","ProgressBar","now","label","striped","variant","EditProject","existingProject","DisplayProject","setProject","setP1Count","setP2Count","setP3Count","setP4Count","editDeleteToggle","setEditDeleteToggle","getProject","calculateTaskCounts","totalCount","p1counter","p2counter","p3counter","p4counter","projectOfid","deleteProject","editProject","updatedProject","existProject","CreateProTask","addToUser","userName","payload","res","EditUser","existUser","notificationTime","handleNotificationTimeChange","setUser","showConfirm","setShowConfirm","setNotificationTime","taskData","setTaskData","getUser","userOfEmail","tasklist","deleteUser","editUser","updatedUser","accountCard","Item","filename","key","csvlink","deleteMessage","reLoginMessage","then","catch","Signup","emailRef","passwordRef","passwordConfirmRef","current","setItem","getIdToken","code","message","Alert","controlId","Control","ref","disabled","setEmail","setPassword","userInfo","PrivateRoute","component","render","ForgotPassword","setMessage","App","setIsActive","path","unsubscribe","idTokenResult","authBody","exact","src","logo","alt","height","marginLeft","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.9f117066.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"sideNav\":\"Nav_sideNav__18fWz\",\"sidebar\":\"Nav_sidebar__39Ava\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"Task_card__26djd\",\"input\":\"Task_input__2BlOa\",\"textarea\":\"Task_textarea__2HxFr\",\"taskLine\":\"Task_taskLine__27qfZ\",\"completed\":\"Task_completed__3Wrnh\",\"uncompleted\":\"Task_uncompleted__2HAZd\",\"alarmIcon\":\"Task_alarmIcon__2ejy5\",\"sortIcon\":\"Task_sortIcon__PILox\",\"sortRule\":\"Task_sortRule__23a_6\",\"p1\":\"Task_p1__3V_Jl\",\"p2\":\"Task_p2__2Hk9R\",\"p3\":\"Task_p3__267F4\",\"p4\":\"Task_p4__2c-m9\",\"taskNameThick\":\"Task_taskNameThick__3Cyq0\",\"disabled\":\"Task_disabled__22Ftd\",\"isCompletedHeader\":\"Task_isCompletedHeader__1_4nu\",\"textBox\":\"Task_textBox__1-RnR\",\"alignLeft\":\"Task_alignLeft__24Rri\",\"P1_alignCenter\":\"Task_P1_alignCenter__1VgdW\",\"P2_alignCenter\":\"Task_P2_alignCenter__1k8i9\",\"P3_alignCenter\":\"Task_P3_alignCenter__1eWr1\",\"P4_alignCenter\":\"Task_P4_alignCenter__RSkpH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"search\":\"Form_search__2Bdyh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Container_container__Z4uls\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"body\":\"Body_body__e6h6A\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"Content_content__2tJ5K\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__1fCsm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"Project_card__FfqTi\",\"projectLine\":\"Project_projectLine__BHAOH\",\"completed\":\"Project_completed__3bdxO\",\"sortIcon\":\"Project_sortIcon__1DKrV\",\"sortRule\":\"Project_sortRule__2pt-I\",\"textBox\":\"Project_textBox__2VzJA\",\"alignLeft\":\"Project_alignLeft__o3wO0\",\"P1_alignCenter\":\"Project_P1_alignCenter__aaV74\",\"P2_alignCenter\":\"Project_P2_alignCenter__1nzDD\",\"P3_alignCenter\":\"Project_P3_alignCenter__98uPU\",\"P4_alignCenter\":\"Project_P4_alignCenter__tPOQJ\",\"isCompletedHeader\":\"Project_isCompletedHeader__Bkz6W\",\"taskList\":\"Project_taskList__10X4z\",\"projectNameThick\":\"Project_projectNameThick__2x7Jp\",\"completion\":\"Project_completion__KfaDg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"user_card__2VXNR\",\"input\":\"user_input__2TZkd\",\"projectLine\":\"user_projectLine__3vEao\",\"completed\":\"user_completed__Vivjd\",\"taskList\":\"user_taskList__29s3c\",\"projectNameThick\":\"user_projectNameThick__3yIc9\",\"completion\":\"user_completion__PTGpn\"};","import React from \"react\";\nimport styles from \"./Nav.module.scss\";\n\nconst Nav = (props) => {\n  return (\n    <>\n      <nav class={styles.sidebar}>\n        <ul class={styles.sideNav}>{props.children}</ul>\n      </nav>\n    </>\n  );\n};\n\nexport default Nav;\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport styles from \"./NavLink.module.scss\";\n\nconst NavLink = (props) => {\n  // This should be changed...\n  // Instead of checking click, checking the URL history\n\n  return (\n    <>\n      <li\n        className={\n          props.isActive\n            ? styles.sideNavItem + \" \" + styles.sideNavItemActive\n            : styles.sideNavItem\n        }\n      >\n        {\" \"}\n        <Link\n          onClick={props.clickPathHandler}\n          to={props.href}\n          className={styles.sideNavLink}\n        >\n          {/* <svg className=\"side-nav__icon\">\n            <use xlink:href=\"img/sprite.svg#icon-home\"></use>\n          </svg> */}\n          <span>{props.children}</span>\n        </Link>\n      </li>\n    </>\n  );\n};\n\nexport default NavLink;\n","import React from \"react\";\nimport styles from \"./Container.module.scss\";\n\nconst Container = (props) => {\n  return (\n    <>\n      <div class={styles.container}>{props.children}</div>\n    </>\n  );\n};\n\nexport default Container;\n","import React from \"react\";\nimport styles from \"./Body.module.scss\";\n\nconst Body = (props) => {\n  return (\n    <>\n      <div class={styles.body}>{props.children}</div>\n    </>\n  );\n};\n\nexport default Body;\n","import React from \"react\";\nimport styles from \"./Content.module.scss\";\n\nconst Content = (props) => {\n  return (\n    <>\n      <div class={styles.content}>{props.children}</div>\n    </>\n  );\n};\n\nexport default Content;\n","import React from \"react\";\nimport styles from \"./Header.module.scss\";\n\nconst Header = (props) => {\n  return (\n    <>\n      <div class={styles.header}>{props.children}</div>\n    </>\n  );\n};\n\nexport default Header;\n","import firebase from \"firebase\";\n\n// TO DO: Please put them in .env\nconst firebaseConfig = {\n  apiKey: \"AIzaSyBoLJ0XOfsILlCKw3_XoWwVEYy01__aBe8\",\n  authDomain: \"reminder-34a82.firebaseapp.com\",\n  projectId: \"reminder-34a82\",\n  storageBucket: \"reminder-34a82.appspot.com\",\n  messagingSenderId: \"525589612405\",\n  appId: \"1:525589612405:web:fd34401357d1f612c4753c\",\n  measurementId: \"G-ENDZVXV1EP\",\n};\n\n// Initialize Firebase\nfirebase.initializeApp(firebaseConfig);\n\nexport const auth = firebase.auth();\nexport const googleAuthProvider = new firebase.auth.GoogleAuthProvider();\n","import React from \"react\";\nimport styles from \"./Login.module.scss\";\nimport { auth } from \"../../../firebase\";\nimport { useHistory } from \"react-router-dom\";\nimport { Link } from \"react-router-dom\";\n\nconst Account =  (props) => {\n  const history = useHistory();\n  const signOut = (e) => {\n    e.preventDefault();\n    auth.signOut();\n    window.localStorage.removeItem(\"token\")\n    window.location.reload(true);\n  };\n  return (\n    <>\n      <nav className={styles.userNav}>\n        <Link to=\"/signout\" onClick={signOut}>\n          <div className={styles.userNav__iconBox}>\n            <span>Sign Out</span>\n          </div>\n        </Link>\n        <Link to=\"/account\">\n          <div className={styles.userNav__iconBox}>\n            <span>Account</span>\n          </div>\n        </Link>\n      </nav>\n    </>\n  );\n};\n\nexport default Account;\n","import React from \"react\";\nimport styles from \"./Login.module.scss\";\nimport { Link } from \"react-router-dom\";\n\nconst Login = (props) => {\n  return (\n    <>\n      <nav className={styles.userNav}>\n        <Link to=\"/signup\">\n          <div className={styles.userNav__iconBox}>\n            <span>Sign Up</span>\n          </div>\n        </Link>\n        <Link to=\"/login\">\n          <div className={styles.userNav__iconBox}>\n            <span>Log In</span>\n          </div>\n        </Link>              \n      </nav>\n    </>\n  );\n};\n\nexport default Login;\n","import React, { useState, useEffect } from \"react\";\n\nimport Account from \"./Account\";\nimport Login from \"./Login\";\n\nconst AuthNav = () => {\n  const [isAuth, setIsAuth] = useState(false);\n\n  useEffect(() => {\n    if (window.localStorage.getItem(\"token\")) {\n      setIsAuth(true);\n    }\n  }, []);\n\n  return <>{isAuth ? <Account /> : <Login />}</>;\n};\n\n\n\nexport default AuthNav;","export default __webpack_public_path__ + \"static/media/logo.839b6785.png\";","import React from 'react';\nimport { MdCheckBox, MdCheckBoxOutlineBlank } from 'react-icons/md';\nimport styles from './CheckBox.module.css';\n\nfunction CheckBox({ children, checked, priority, ...rest }) {\n  \n  //? not sure..\n  let classByPriority;\n  if(priority === 'P1') {\n    classByPriority=styles.p1;\n  }else if(priority === 'P2'){\n    classByPriority=styles.p2;\n  }else if(priority === 'P3'){\n    classByPriority=styles.p3;\n  }else {\n    classByPriority=styles.p4;\n  }\n\n  // return (\n  //   <div className={styles.checkbox}>\n  //     <label>\n  //       <input type=\"checkbox\" checked={checked} {...rest} />\n  //       <div className={styles.icon}>{checked ? <MdCheckBox className={styles.checked}/> \n  //       : \n  //       <MdCheckBoxOutlineBlank className={styles.differentColor} />}</div>\n  //     </label>\n  //     {/* <span>{children}</span> */}\n  //     <div id={styles.innerDiv}>{children}</div>\n  //   </div>\n  // );\n\n  return (\n    <div className={styles.checkbox}>\n      <label>\n        <input type=\"checkbox\" checked={checked} {...rest} />\n        <div className={styles.icon}>{checked ? <MdCheckBox className={styles.checked}/> \n        : \n        <MdCheckBoxOutlineBlank className={classByPriority} />}</div>\n      </label>\n      {/* <span>{children}</span> */}\n      <div id={styles.innerDiv}>{children}</div>\n    </div>\n  );\n}\n\nexport default CheckBox;\n","import React, { useState } from \"react\";\nimport \"date-fns\";\nimport DateFnsUtils from \"@date-io/date-fns\";\nimport {\n  MuiPickersUtilsProvider,\n  KeyboardDateTimePicker,\n} from \"@material-ui/pickers\";\n\nimport { Form, Button, Card, Alert } from \"react-bootstrap\";\nimport CheckBox from \"../../components/checkBox/CheckBox\";\nimport styles from \"./Task.module.scss\";\nimport \"bootstrap/dist/css/bootstrap.css\";\n\nfunction CreateTask2({\n  name,\n  descript,\n  dueDate,\n  priority,\n  notification,\n  onCreate,\n  onChange,\n  handleDateChange,\n  handlePriorityChange,\n  handleNotification,\n}) {\n  const [check, setCheck] = useState(true);\n  const onChangeNotification = (e) => {\n    handleNotification(e);\n    //handleNotification(e, task._id);\n    setCheck(!check);\n  };\n  return (\n    <Card style={{ width: \"90rem\" }} className={styles.card}>\n      <Card.Body>\n        <h1 className=\"text-center\">Create Task</h1>\n        <form onSubmit={onCreate}>\n          <Form.Group id=\"name\">\n            <Form.Label class=\"col-sm-2 col-form-label col-form-label-lg\">\n              Task Name\n            </Form.Label>\n            <input\n              placeholder=\"title\"\n              name=\"name\"\n              value={name}\n              onChange={onChange}\n              required\n            />\n          </Form.Group>\n\n          <Form.Group id=\"descript\">\n            <Form.Label class=\"col-sm-2 col-form-label col-form-label-lg\">\n              Description\n            </Form.Label>\n            <textarea\n              placeholder=\"description\"\n              name=\"descript\"\n              value={descript}\n              onChange={onChange}\n            />\n          </Form.Group>\n\n          <Form.Group id=\"dueDate\">\n            <Form.Label class=\"col-sm-2 col-form-label col-form-label-lg\">\n              Due Date\n            </Form.Label>\n            <MuiPickersUtilsProvider utils={DateFnsUtils}>\n              <KeyboardDateTimePicker\n                id=\"time-picker\"\n                //label=\"Time picker\"\n                value={dueDate}\n                onChange={handleDateChange}\n              />\n            </MuiPickersUtilsProvider>\n          </Form.Group>\n\n          <Form.Group id=\"priority\">\n            <Form.Label class=\"col-sm-2 col-form-label col-form-label-lg\">\n              Priority\n            </Form.Label>\n            <select\n              name=\"priority\"\n              value={priority}\n              onChange={handlePriorityChange}\n            >\n              <option value=\"P1\">Priority 1</option>\n              <option value=\"P2\">Priority 2</option>\n              <option value=\"P3\">Priority 3</option>\n              <option value=\"P4\">Priority 4</option>\n            </select>\n          </Form.Group>\n\n          <Form.Group id=\"notification\">\n            <Form.Label class=\"col-sm-2 col-form-label col-form-label-lg\">\n              Check the box if you want to get notification for this task.\n            </Form.Label>\n            <CheckBox\n              onChange={onChangeNotification}\n              checked={check}\n              priority={\"P4\"}\n            />\n          </Form.Group>\n\n          <br />\n          <Button\n            type=\"submit\"\n            style={{\n              color: \"#00000\",\n              background: \"#0A7BC2\",\n              border: \"none\",\n              fontSize: 14,\n            }}\n            size=\"lg\"\n          >\n            Create New Task\n          </Button>\n        </form>\n      </Card.Body>\n    </Card>\n  );\n}\n\nexport default CreateTask2;\n","import React, { useContext, useState, useEffect } from \"react\";\nimport { auth } from \"../firebase\";\n\nexport const AuthContext = React.createContext();\n\nexport function useAuth() {\n  return useContext(AuthContext);\n}\n\nexport default function AuthProvider({ children }) {\n  const [currentUser, setCurrentUser] = useState(); //https://firebase.google.com/docs/reference/js/auth.user.md#user_interface\n  const [loading, setLoading] = useState(true);\n  const [token, setToken] = useState(null);\n\n  function signup(email, password) {\n    return auth.createUserWithEmailAndPassword(email, password);\n    //export declare function createUserWithEmailAndPassword(auth: Auth, email: string, password: string): Promise<UserCredential>;\n    //Creates a new user account associated with the specified email address and password.\n    //On successful creation of the user account, this user will also be signed in to your application.\n    //User account creation can fail if the account already exists or the password is invalid.\n    //https://firebase.google.com/docs/reference/js/auth.md#createuserwithemailandpassword\n    //https://firebase.google.com/docs/reference/js/auth.usercredential.md#usercredentialuser\n  }\n\n  //https://firebase.google.com/docs/reference/js/auth.md#signinwithemailandpassword\n  //returns: Promise<UserCredential>\n  async function login(email, password) {\n    return await auth.signInWithEmailAndPassword(email, password);\n  }\n\n  function logout() {\n    return auth.signOut();\n  }\n\n  function resetPassword(email) {\n    return auth.sendPasswordResetEmail(email);\n  }\n\n  function updateEmail(email) {\n    return currentUser.updateEmail(email);\n  }\n\n  function updatePassword(password) {\n    return currentUser.updatePassword(password);\n  }\n\n\n  useEffect(() => {\n    const unsubscribe = auth.onAuthStateChanged((user) => {\n      //https://firebase.google.com/docs/reference/js/auth.auth.md#authonauthstatechanged\n      setCurrentUser(user);\n      console.log(user); //need to check if react uses this effect after loggin in.\n      setLoading(false);//!<--      \n    });\n    //setLoading(false); //!<--\n    return unsubscribe;\n  }, []);\n\n\n  const value = {\n    currentUser,\n    login,\n    signup,\n    logout,\n    resetPassword,\n    updateEmail,\n    updatePassword,\n    setToken,\n    token,\n  };\n\n  return (\n    <AuthContext.Provider value={value}>\n      {!loading && children}\n    </AuthContext.Provider>\n  );\n}\n","import React from \"react\";\nimport moment from \"moment\";\nimport \"moment-timezone\";\n\nimport { useState, useRef } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport axios from \"axios\";\nimport CreateTask2 from \"./CreateTask2\";\nimport { useAuth } from \"../../contexts/AuthContext.js\";\n\nexport default function CreateTask() {\n  const { currentUser } = useAuth();\n  const [tasks, setTasks] = useState([]);\n  const [inputs, setInputs] = useState({\n    //_id: null,\n    name: \"\",\n    user: null,\n    descript: \"\",\n  });\n  const [dueDate, setDueDate] = useState(new Date());\n  const [priority, setPriority] = useState(\"P4\");\n  const [notification, setNotification] = useState(true);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n\n  const { name, user, descript } = inputs;\n\n\n  const history = useHistory();\n\n  const handlePriorityChange = (e) => {\n    setPriority(e.target.value);\n    console.log(\"Priority: \" + e.target.value);\n  };\n  const handleDateChange = (date) => {\n    console.log(date);\n    setDueDate(date);\n  };\n  const handleNotification = (e) => {\n    console.log(notification);\n    setNotification(e.target.checked);\n  };\n  const onChange = (e) => {\n    const { name, value } = e.target;\n    setInputs({\n      ...inputs,\n      [name]: value,\n    });\n    console.log(inputs);\n    //console.log(priority.current)\n  };\n\n  const addNewTask = async (task) => {\n    try {\n      //console.log('task to be added: '+task.user)\n      const idToken = window.localStorage.getItem(\"token\");\n      const userEmail = currentUser.email;\n\n      const response = await axios.post(\n        \"/api/create-task/\" + userEmail,\n        task,\n        {\n          headers: {\n            Authorization: \"Bearer \" + idToken,\n          },\n        }\n      );\n      console.log(`addNewTask's response: ${response.data._id}`);\n\n      setTasks([...tasks, response.data]);\n\n      history.push(\"/task_list\");\n    } catch (e) {\n      console.error(e);\n    }\n  };\n\n  const onCreate = (e) => {\n    e.preventDefault();\n    console.log(dueDate);\n    const userEmail = currentUser.email;\n    const task = {\n      name: inputs.name,\n      user: userEmail,\n      participants: [user],\n      descript: inputs.descript,\n      dueDate: moment(dueDate).tz(\"America/Toronto\").toString(),//???\n      priority: priority,\n      notification: notification,\n    };\n    \n    console.log(task.dueDate);\n    addNewTask(task);\n  };\n\n  return (\n    <>\n      <CreateTask2\n        name={name}\n        descript={descript}\n        dueDate={dueDate}\n        priority={priority}        \n        onCreate={onCreate}\n        onChange={onChange}\n        handleDateChange={handleDateChange}\n        handlePriorityChange={handlePriorityChange}\n        handleNotification={handleNotification}\n      />\n    </>\n  );\n}\n","import React, { useState } from \"react\";\nimport \"date-fns\";\nimport DateFnsUtils from \"@date-io/date-fns\";\nimport {\n  MuiPickersUtilsProvider,\n  KeyboardDateTimePicker,\n} from \"@material-ui/pickers\";\nimport { Form, Button, Card, Alert } from \"react-bootstrap\";\nimport CheckBox from \"../../components/checkBox/CheckBox\";\n\nimport styles from \"./Task.module.scss\";\nimport \"bootstrap/dist/css/bootstrap.css\";\n\nfunction EditTask({\n  priority,\n  name,\n  descript,\n  dueDate,\n  notification,\n  onEdit,\n  onChange,\n  onCancel,\n  handleDateChange,\n  handlePriorityChange,\n  handleNotification,\n}) {\n  const [check, setCheck] = useState(notification);\n  const onChangeNotification = (e) => {\n    handleNotification(e);\n    setCheck(!check);\n  };\n\n  return (\n    <>\n      <h1 className=\"text-center\">Edit Task</h1>\n      <form onSubmit={onEdit}>\n        <Form.Group id=\"name\">\n          <Form.Label class=\"col-sm-2 col-form-label col-form-label-lg\">\n            Task Name\n          </Form.Label>\n          <input\n            placeholder=\"title\"\n            name=\"name\"\n            value={name}\n            onChange={onChange}\n            required\n          />\n        </Form.Group>\n        <Form.Group id=\"descript\">\n          <Form.Label class=\"col-sm-2 col-form-label col-form-label-lg\">\n            Description\n          </Form.Label>\n          <textarea\n            placeholder=\"description\"\n            name=\"descript\"\n            value={descript}\n            onChange={onChange}\n          />\n        </Form.Group>\n        <Form.Group id=\"dueDate\">\n          <Form.Label class=\"col-sm-2 col-form-label col-form-label-lg\">\n            Due Date\n          </Form.Label>\n          <MuiPickersUtilsProvider utils={DateFnsUtils}>\n            <KeyboardDateTimePicker\n              id=\"time-picker\"\n              value={dueDate}\n              onChange={handleDateChange}\n            />\n          </MuiPickersUtilsProvider>\n        </Form.Group>\n        <Form.Group id=\"priority\">\n          <Form.Label class=\"col-sm-2 col-form-label col-form-label-lg\">\n            Priority\n          </Form.Label>\n          <select\n            name=\"priority\"\n            value={priority}\n            onChange={handlePriorityChange}\n          >\n            <option value=\"P1\">Priority 1</option>\n            <option value=\"P2\">Priority 2</option>\n            <option value=\"P3\">Priority 3</option>\n            <option value=\"P4\">Priority 4</option>\n          </select>\n        </Form.Group>\n        <Form.Group id=\"notification\">\n          <Form.Label class=\"col-sm-2 col-form-label col-form-label-lg\">\n            Check the box if you want to get notification for this task.\n          </Form.Label>\n          <CheckBox\n            onChange={onChangeNotification}\n            checked={check}\n            priority={\"P4\"}\n          />\n        </Form.Group>\n        <br />\n        <Button\n          type=\"submit\"\n          style={{\n            color: \"#00000\",\n            background: \"#0A7BC2\",\n            border: \"none\",\n            paddingRight: 16,\n            paddingLeft: 16,\n            fontSize: 14,\n          }}\n          size=\"lg\"\n        >\n          Save\n        </Button>\n        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\n        <Button\n          style={{\n            color: \"#00000\",\n            background: \"#FE6D73\",\n            border: \"none\",\n            paddingRight: 16,\n            paddingLeft: 16,\n            fontSize: 14,\n          }}\n          size=\"lg\"\n          onClick={onCancel}\n        >\n          Cancel\n        </Button>\n      </form>\n    </>\n  );\n}\n\nexport default EditTask;\n","import React, { Component } from 'react';\nimport EditTask from './EditTask'\nimport { Form, Button, Card, Alert } from \"react-bootstrap\"\nimport styles from \"./Task.module.scss\";\nimport moment from \"moment\";\nimport \"moment-timezone\";\n\n\nexport default class DisplayTaskComp extends Component {\n\n    render() {      \n      if(this.props.loading) {return <div>on loading..</div>}\n      else if(this.props.error) {return <div>error occured</div>}\n      else if(!this.props) {return <div>Cannot find the task.</div>}\n      else {\n        let task = this.props.entry[0];   \n        let priorityString='';\n        if(task?.priority==='P1') {\n          priorityString = 'Priority 1';\n        }else if(task?.priority==='P2') {\n          priorityString = 'Priority 2';\n        }else if(task?.priority==='P3') {\n          priorityString = 'Priority 3';\n        }else {\n          priorityString = 'Priority 4';\n        }\n\n        let classByPriority;\n        if(task?.priority === 'P1') {\n          classByPriority=styles.p1;\n        }else if(task?.priority === 'P2'){\n          classByPriority=styles.p2;\n        }else if(task?.priority === 'P3'){\n          classByPriority=styles.p3;\n        }else {\n          classByPriority=styles.p4;\n        }\n\n        \n\n        return (\n            <>     \n                    <h1 className=\"text-center\"> {task?.name} </h1>\n                    <br />\n                    <h4>Description: </h4>\n                    <div> {task?.descript} </div>\n                    <br />\n                    <h4>Due date: </h4>\n                    <div> {moment(task?.dueDate).tz(\"America/Toronto\").format(\"YYYY-MM-DD HH:mm\")} </div>\n                    <br />              \n                    <h4 className={classByPriority}>{priorityString}</h4>\n                    <br />                 \n                    <h4>Notification on/off: {task?.notification?'On':'Off'}</h4>            \n            </>\n        )\n      }                  \n        \n    }\n  \n}","import React from \"react\";\nimport axios from \"axios\";\nimport firebase from \"firebase\";\nimport DisplayTaskComp from \"./DisplayTaskComp\";\nimport EditTask from \"./EditTask\";\nimport { useState, useEffect } from \"react\";\nimport { Form, Button, Card, Alert } from \"react-bootstrap\";\nimport { useHistory } from \"react-router-dom\";\nimport styles from \"./Task.module.scss\";\n\nimport { useAuth } from \"../../contexts/AuthContext.js\";\n\nexport default function DisplayTask(props) {\n  const { currentUser } = useAuth();\n  const [tasks, setTasks] = useState([]);\n  const [inputs, setInputs] = useState({\n    //_id: null,\n    name: \"\",\n    user: null,\n    descript: \"\",\n  });\n  const [priority, setPriority] = useState(\"\");\n  const [dueDate, setDueDate] = useState(new Date());\n  const [notification, setNotification] = useState(true);\n  const { name, user, descript } = inputs;\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const history = useHistory();\n  const idToken = window.localStorage.getItem(\"token\");\n  const id = props.match.params.id;\n  const [isEditing, setIsEditing] = useState(false);\n  // //it is just a dependency.\n  //const [editCompleted, setEditCompleted] = useState(false);\n\n  useEffect(() => {\n    getTask(props); // <-- pass the component props\n  }, []);\n\n  const handleNotification = (e) => {\n    console.log(notification);\n    setNotification(e.target.checked);\n  };\n  const handlePriorityChange = (e) => {\n    setPriority(e.target.value);\n    console.log(\"Priority: \" + e.target.value);\n  };\n  const handleDateChange = (date) => {\n    console.log(date);\n    setDueDate(date);\n  };\n  const onChange = (e) => {\n    const { name, value } = e.target;\n    setInputs({\n      ...inputs,\n      [name]: value,\n    });\n  };\n\n  const onCancel = (e) => {\n    setIsEditing(!isEditing);\n    setInputs({\n      ...inputs,\n      name: tasks[0].name,\n      descript: tasks[0].descript,\n    });\n    setDueDate(tasks[0].dueDate);\n  };\n\n  const onEdit = (e) => {\n    e.preventDefault();\n\n    const task = {\n      name: inputs.name,\n      descript: inputs.descript,\n      dueDate: dueDate,\n      priority: priority,\n      notification: notification,\n    };\n\n    editTask(task);\n    console.log(\"```````````````````in onEdit````````````````````\");\n    console.log(tasks);\n\n    setIsEditing(!isEditing);\n    console.log(tasks);\n    //setEditCompleted(!editCompleted)\n\n    //? Without this push, data is not rendered inside DisplayTaskComp.js\n    history.push(\"/task_list\");\n    //history.goBack();\n  };\n\n  const editTask = async (task) => {\n    try {\n      setError(null);\n      setTasks([null]);\n      setLoading(true);\n      const updatedTask = await axios.put(\n        \"/api/update-task/\" + id,\n        task,\n        {\n          headers: {\n            Authorization: \"Bearer \" + idToken,\n          },\n        }\n      );\n      console.log(`from within editTask -----------------`);\n      console.log(updatedTask.data);\n    } catch (e) {\n      setError(e);\n    }\n    setLoading(false);\n  };\n\n  const getTask = async (props) => {\n    try {\n      setError(null);\n      setTasks([null]);\n      setLoading(true);\n      const taskOfid = await axios.get(\n        \"/api/display-task/\" + id,\n        {\n          headers: {\n            Authorization: \"Bearer \" + idToken,\n          },\n        }\n      );\n      console.log(`from Task useEffect -----------------`);\n      console.log(taskOfid.data);\n      setTasks(tasks.concat(taskOfid.data));\n      setInputs({\n        ...inputs,\n        name: taskOfid.data.name,\n        descript: taskOfid.data.descript,\n      });\n      // console.log(`from Task useEffect --------AGAIN---------`)\n      // console.log(tasks[0])\n      setDueDate(taskOfid.data.dueDate);\n      setPriority(taskOfid.data.priority);\n      setNotification(taskOfid.data.notification);\n    } catch (e) {\n      setError(e);\n      console.log(e);\n    }\n    setLoading(false);\n  };\n\n  const deleteTask = async (props) => {\n    try {\n      const taskOfid = await axios.delete(\n        \"/api/delete-task/\" + id,\n        {\n          headers: {\n            Authorization: \"Bearer \" + idToken,\n          },\n        }\n      );\n      history.push(\"/\");\n    } catch (e) {\n      setError(e);\n    }\n    setLoading(false);\n  };\n\n  return (\n    <>\n      <br />\n      <Card style={{ width: \"90rem\" }} className={styles.card}>\n        <Card.Body>\n          {isEditing ? (\n            <EditTask\n              name={name}\n              descript={descript}\n              dueDate={dueDate}\n              priority={priority}\n              notification={notification}\n              onEdit={onEdit}\n              onChange={onChange}\n              handleDateChange={handleDateChange}\n              handlePriorityChange={handlePriorityChange}\n              onCancel={onCancel}\n              existingTask={tasks[0]}\n              handleNotification={handleNotification}\n            />\n          ) : (\n            <DisplayTaskComp entry={tasks} loading={loading} error={error} />\n          )}\n          <span>\n            {!isEditing ? (\n              <span>\n                <Button\n                  style={{\n                    color: \"#00000\",\n                    background: \"#0A7BC2\",\n                    border: \"none\",\n                    paddingRight: 16,\n                    paddingLeft: 16,\n                    fontSize: 14,\n                  }}\n                  size=\"lg\"\n                  onClick={() => setIsEditing(!isEditing)}\n                >\n                  Edit Task\n                </Button>\n                &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\n                <Button\n                  style={{\n                    color: \"#00000\",\n                    background: \"#FE6D73\",\n                    border: \"none\",\n                    fontSize: 14,\n                  }}\n                  size=\"lg\"\n                  onClick={deleteTask}\n                >\n                  Delete Task\n                </Button>\n              </span>\n            ) : (\n              <span></span>\n            )}\n          </span>\n        </Card.Body>\n      </Card>\n    </>\n  );\n}\n","import React from 'react';\nimport { Form, Button, Card } from \"react-bootstrap\";\n\nimport styles from \"./Project.module.scss\";\nimport \"bootstrap/dist/css/bootstrap.css\";\n\n\nexport default function CreateProjectFrom({ name, manager, descript, onCreate, onChange, handleDateChange }) {\n    return(        \n        <Card style={{ width: \"90rem\" }} className={styles.card}>\n            <Card.Body>\n            <h1 className=\"text-center\">Create Project</h1>\n            <form onSubmit={onCreate}>\n                    <Form.Group id=\"name\">\n                        <Form.Label class=\"col-sm-2 col-form-label col-form-label-lg\">Project Name</Form.Label>\n                        <input placeholder=\"title\"\n                        name=\"name\"\n                        value={name}\n                        onChange={onChange}\n                        required\n                        />\n                    </Form.Group>\n\n                    <Form.Group id=\"manager\">\n                        <Form.Label class=\"col-sm-2 col-form-label col-form-label-lg\">Manager</Form.Label>\n                        <input placeholder=\"manager\"\n                        name=\"manager\"\n                        value={manager}\n                        onChange={onChange}                        \n                        />\n                    </Form.Group>\n                    \n                    <Form.Group id=\"descript\">\n                        <Form.Label class=\"col-sm-2 col-form-label col-form-label-lg\">Description</Form.Label>\n                        <textarea placeholder=\"description\"\n                            name=\"descript\"\n                            value={descript}\n                            onChange={onChange}\n                        />\n                    </Form.Group>                   \n                    \n                    <br />\n                    <Button type=\"submit\" style={{ color:\"#00000\",background:\"#0A7BC2\", border:\"none\",fontSize: 14}} size=\"lg\">Create New Project</Button>\n            </form>\n\n            </Card.Body>\n            \n\n        </Card> \n        \n    )\n}\n","import React from \"react\";\n\nimport { useState, useRef } from 'react'\nimport { useHistory } from \"react-router-dom\";\nimport axios from 'axios';\nimport { useAuth } from \"../../contexts/AuthContext.js\";\n\nimport CreateProjectFrom from \"./CreateProjectForm.js\";\n\nexport default function CreateProject() {\n    const { currentUser } = useAuth();\n    const [projects, setProjects] = useState([])\n    const [inputs, setInputs] = useState({        \n        name: '',\n        manager: null,\n        descript:''\n    })    \n\n    const { name, manager, descript } = inputs;\n    const _id = useRef(1);\n\n    const history = useHistory();\n    \n    const onChange = e => {\n        const { name, value } = e.target;\n        setInputs({\n            ...inputs,\n            [name]: value\n        })\n    }\n\n    const addNewProject = async (project) => {\n        try {            \n            const idToken = window.localStorage.getItem(\"token\")\n            const userEmail = currentUser.email\n\n            const response = await axios.post(\n                '/api/create-project/' + userEmail,\n                project,\n                {\n                 \n                    headers: {\n                      Authorization: 'Bearer ' + idToken,\n                    },\n                }\n            )\n            console.log(`addNewProject's response: ${response.data._id}`);\n\n\n\n            setProjects([...projects, response.data])\n\n            setInputs({\n                name: '',\n                manager: null,\n                descript:'',\n                createBy:''\n            })\n            history.push(\"/\");  \n        }catch (e) {\n            console.error(e);\n        }\n    }\n\n    const onCreate = (e) => {\n        e.preventDefault();\n        const userEmail = currentUser.email\n        const project = {            \n            name: inputs.name,\n            manager: inputs.manager,\n            descript: inputs.descript,\n            createBy: userEmail            \n        }\n        //todo after fixing axios and token issue, \n        addNewProject(project);\n        \n    }\n\n    return (\n        <>\n            <br />\n             <CreateProjectFrom  \n                name={name}\n                manager={manager}\n                descript={descript}\n                onCreate={onCreate}\n                onChange={onChange}               \n            />\n            \n            \n        </>\n    );\n}\n","import React, { useState } from \"react\";\nimport { ListGroupItem } from \"react-bootstrap\";\nimport styles from \"./Task.module.scss\";\nimport CheckBox from \"../../components/checkBox/CheckBox\";\nimport { RiDeleteBin6Line } from \"react-icons/ri\";\nimport { dark } from \"@material-ui/core/styles/createPalette\";\nimport { BsAlarm } from \"react-icons/bs\";\nimport moment from \"moment\";\nimport \"moment-timezone\";\n\nfunction TaskItem({ task, onComplete, onDelete, checked }) {\n  const [check, setCheck] = useState(task.isCompleted);\n\n  const onChange = (e) => {\n    onComplete(e, task._id);\n    setCheck(!check);\n  };\n\n  const onClick = (e) => {\n    e.preventDefault();\n    onDelete(e, task._id);\n  };\n\n  return (\n    // <div className={!check?styles.taskLine:''} >\n    // <div className={check?styles.completed:styles.taskLine} >\n    // <div className={styles.taskLine} >\n    //     <CheckBox onChange={onChange} checked={check} priority={task.priority}/>\n    //     <ListGroupItem   style={{fontSize: 14}} href={`task/${task._id}`} action>\n    //         <span className={check?styles.completed:''}>\n\n    //         <span className={styles.taskNameThick} > {task.name} </span>\n    //         <span>\n    //         {typeof task.dueDate === 'undefined' ? '' : task.dueDate.split('T')[0]}\n    //         </span>\n    //         </span>\n    //     </ListGroupItem>\n    // </div>\n    <div className={styles.taskLine}>\n      <CheckBox onChange={onChange} checked={check} priority={task.priority} />\n      <ListGroupItem style={{ fontSize: 14 }} href={`task/${task._id}`} action>\n        <div className={check ? styles.completed : styles.uncompleted}>\n          <div className={styles.taskNameThick}> {task.name} </div>\n          {task.notification&&<BsAlarm className={styles.alarmIcon}/>}          \n          <div>\n            {typeof task.dueDate === \"undefined\"\n              ? \"\"\n              : moment(task.dueDate).tz(\"America/Toronto\").format(\"YYYY-MM-DD\") }\n            {/* {typeof task.dueDate === \"undefined\" ? \"\" : task.dueDate} */}\n          </div>\n          <RiDeleteBin6Line onClick={onClick} className={styles.disalbed} />\n        </div>\n      </ListGroupItem>\n    </div>\n  );\n}\n\nexport default TaskItem;\n","import React, { Component } from \"react\";\nimport { ListGroup, ListGroupItem, Button, Card } from \"react-bootstrap\";\nimport styles from \"./Task.module.scss\";\nimport TaskItem from \"./taskItem\";\nimport { BiSortDown } from \"react-icons/bi\";\nimport moment from \"moment\";\nimport \"moment-timezone\";\n\nexport default class TaskList2 extends Component {\n  render() {\n    let p1Count = 0;\n    let p2Count = 0;\n    let p3Count = 0;\n    let p4Count = 0;\n    let completedCount = 0;\n    let unCompletedCount = 0;\n    \n    if (this.props.loading) {\n      return <div>on loading..</div>;\n    } else if (this.props.error) {\n      return <div>error occurred</div>;\n    } else {\n      let tasks = this.props.entries;\n\n      //count\n      tasks.forEach((task) => {\n        if (!task.isCompleted) {\n          switch (task.priority) {\n            case \"P1\":\n              ++p1Count;\n              break;\n            case \"P2\":\n              ++p2Count;\n              break;\n            case \"P3\":\n              ++p3Count;\n              break;\n            case \"P4\":\n              ++p4Count;\n              break;\n            default:\n          }\n          ++unCompletedCount;\n        } else {\n          ++completedCount;\n        }\n      });\n      let p1Tasks = tasks.filter((task) => task.priority === \"P1\");\n      let p2Tasks = tasks.filter((task) => task.priority === \"P2\");\n      let p3Tasks = tasks.filter((task) => task.priority === \"P3\");\n      let p4Tasks = tasks.filter((task) => task.priority === \"P4\");\n      let sorted = tasks.sort((a, b) => {\n        //if(typeof a.dueDate === 'Date')\n        if (typeof a.dueDate !== \"string\") a.dueDate.toISOString();\n        if (typeof b.dueDate !== \"string\") b.dueDate.toISOString();\n        return a.dueDate //2021-11-27T23:47:00.000Z\n          .split(\"T\")[0] //2021-11-27\n          .split(\"-\") // [2021, 11, 27]\n          .join()\n          .localeCompare(b.dueDate.split(\"T\")[0].split(\"-\").join());\n      });\n\n      return (\n        <>\n          <br />\n          <Card style={{ width: \"90rem\" }} className={styles.card}>\n            <Card.Body>\n              {/* <h1 className=\"text-center\" style={{color: 'black'}}>Task List</h1> */}\n              <h1 className=\"text-center\">Task List</h1>\n              <h4 className={styles.sortRule}>\n                Sorted by{\" \"}\n                {this.props.isPrioritySorted ? \"Priority\" : \"Due date\"}\n              </h4>\n              <BiSortDown\n                style={{}}\n                className={styles.sortIcon}\n                onClick={this.props.onPrioritySorted}\n              />\n              {unCompletedCount > 0 && (\n                <h5 className={styles.isCompletedHeader}>\n                  UnCompleted Tasks: {unCompletedCount}\n                </h5>\n              )}\n              <ListGroup>\n                {!this.props.isPrioritySorted &&\n                  tasks.map((task) => {\n                    if (task.isCompleted === false) {\n                      if (typeof task.dueDate === \"object\")\n                        task.dueDate.toISOString();\n                      return (\n                        <TaskItem\n                          key={task._id}\n                          task={task}\n                          onComplete={this.props.onComplete}\n                          onDelete={this.props.onDelete}\n                        />\n                      );\n                    }\n                  })}\n\n                {this.props.isPrioritySorted && p1Count > 0 && (\n                  <div className={styles.textBox}>\n                    <h5 className={styles.alignLeft}>{p1Count}</h5>\n                    <h5 className={styles.P1_alignCenter}>Priority 1</h5>\n                  </div>\n                )}\n                {this.props.isPrioritySorted &&\n                  p1Tasks.map((task) => {\n                    if (task.isCompleted === false) {\n                      if (typeof task.dueDate === \"object\")\n                        task.dueDate.toISOString();\n                      return (\n                        <TaskItem\n                          key={task._id}\n                          task={task}\n                          onComplete={this.props.onComplete}\n                          onDelete={this.props.onDelete}\n                        />\n                      );\n                    }\n                  })}\n\n                {this.props.isPrioritySorted && p2Count > 0 && (\n                  <div className={styles.textBox}>\n                    <h5 className={styles.alignLeft}>{p2Count}</h5>\n                    <h5 className={styles.P2_alignCenter}>Priority 2</h5>\n                  </div>\n                )}\n                {this.props.isPrioritySorted &&\n                  p2Tasks.map((task) => {\n                    if (task.isCompleted === false) {\n                      if (typeof task.dueDate === \"object\")\n                        task.dueDate.toISOString();\n                      return (\n                        <TaskItem\n                          key={task._id}\n                          task={task}\n                          onComplete={this.props.onComplete}\n                          onDelete={this.props.onDelete}\n                        />\n                      );\n                    }\n                  })}\n\n                {this.props.isPrioritySorted && p3Count > 0 && (\n                  <div className={styles.textBox}>\n                    <h5 className={styles.alignLeft}>{p3Count}</h5>\n                    <h5 className={styles.P3_alignCenter}>Priority 3</h5>\n                  </div>\n                )}\n                {this.props.isPrioritySorted &&\n                  p3Tasks.map((task) => {\n                    if (task.isCompleted === false) {\n                      if (typeof task.dueDate === \"object\")\n                        task.dueDate.toISOString();\n                      return (\n                        <TaskItem\n                          key={task._id}\n                          task={task}\n                          onComplete={this.props.onComplete}\n                          onDelete={this.props.onDelete}\n                        />\n                      );\n                    }\n                  })}\n\n                {this.props.isPrioritySorted && p4Count > 0 && (\n                  <div className={styles.textBox}>\n                    <h5 className={styles.alignLeft}>{p4Count}</h5>\n                    <h5 className={styles.P4_alignCenter}>Priority 4</h5>\n                  </div>\n                )}\n                {this.props.isPrioritySorted &&\n                  p4Tasks.map((task) => {\n                    if (task.isCompleted === false) {\n                      if (typeof task.dueDate === \"object\")\n                        task.dueDate.toISOString();\n                      return (\n                        <TaskItem\n                          key={task._id}\n                          task={task}\n                          onComplete={this.props.onComplete}\n                          onDelete={this.props.onDelete}\n                        />\n                      );\n                    }\n                  })}\n\n                {completedCount > 0 && (\n                  <h5 className={styles.isCompletedHeader}>\n                    Completed Tasks: {completedCount}\n                  </h5>\n                )}\n                {tasks.map((task) => {\n                  if (task.isCompleted === true) {\n                    if (typeof task.dueDate === \"object\")\n                      task.dueDate.toISOString();\n                    return (\n                      <TaskItem\n                        key={task._id}\n                        task={task}\n                        onComplete={this.props.onComplete}\n                        onDelete={this.props.onDelete}\n                      />\n                    );\n                  }\n                })}\n              </ListGroup>\n              <br />\n              <Button\n                style={{\n                  color: \"#00000\",\n                  background: \"#0A7BC2\",\n                  border: \"none\",\n                  fontSize: 14,\n                }}\n                href=\"/createTask\"\n                size=\"lg\"\n              >\n                Create New Task\n              </Button>\n            </Card.Body>\n          </Card>\n          <br />\n        </>\n      );\n    }\n  }\n}\n","import React from \"react\";\nimport TaskList2 from \"./taskList2\";\nimport { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { useAuth } from \"../../contexts/AuthContext.js\";\nimport EditTask from \"./EditTask\";\n\nfunction Tasks() {\n  const { currentUser } = useAuth();\n  const [tasks, setTasks] = useState([]);\n  const idToken = window.localStorage.getItem(\"token\");\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [numOfCompleted, setNumOfCompleted] = useState(false);\n  const [isPrioritySorted, setIsPrioritySorted] = useState(false);\n\n  /**\n   * onComplete\n   * * What this function does\n   * 1. call Api of edit task with the id passed as an argument.\n   * 2. update the tasks using id param so that isCompleted is equal to e.target.checked\n   * @param  e\n   * @param {*} id: _id of the task clicked by user completing it.\n   */\n  const onComplete = (e, id) => {\n    //setCheck(e.target.checked);\n    const task = {\n      isCompleted: e.target.checked,\n    };\n    editTask(task, id);\n    setTasks(\n      tasks.map((task) =>\n        task._id === id ? { ...task, isCompleted: e.target.checked } : task\n      )\n    );\n  };\n  const onDelete = (e, id) => {\n    deleteTask(id);\n    setTasks(tasks.filter((task) => task._id !== id));\n  };\n  const onPrioritySorted = () => {\n    setIsPrioritySorted(!isPrioritySorted);\n  };\n\n  const deleteTask = async (task_id) => {\n    setError(null);\n    try {\n      const taskOfid = await axios.delete(\n        \"/api/delete-task/\" + task_id,\n        {\n          headers: {\n            Authorization: \"Bearer \" + idToken,\n          },\n        }\n      );\n      //history.push(\"/\");\n    } catch (e) {\n      setError(e);\n    }\n    //setLoading(false);\n  };\n\n  const editTask = async (task, id) => {\n    try {\n      setError(null);\n      //setTasks([null]);\n      //setLoading(true);\n      const updatedTask = await axios.put(\n        \"/api/update-task/\" + id,\n        task,\n        {\n          headers: {\n            Authorization: \"Bearer \" + idToken,\n          },\n        }\n      );\n      console.log(`from within editTask -----------------`);\n      console.log(updatedTask.data);\n    } catch (e) {\n      setError(e);\n    }\n    //setLoading(false)\n  };\n\n  const fetchTasks = async () => {\n    try {\n      setError(null);\n      setTasks(null);\n      setLoading(true);\n\n      const idToken = window.localStorage.getItem(\"token\");\n      const userEmail = currentUser.email;\n      const tasksOfuser = await axios.get(\n        \"/api/tasks-of-user/\" + userEmail,\n        {\n          headers: {\n            Authorization: \"Bearer \" + idToken,\n          },\n        }\n      );\n      console.log(`from Task useEffect -----------------`);\n      console.log(\"=======\");\n      //console.log(project);\n      console.log(tasksOfuser.data);\n      setTasks(tasks.concat(tasksOfuser.data));\n      //setTaskCounter({...taskCounter, });\n    } catch (e) {\n      setError(e);\n    }\n    setLoading(false);\n  };\n\n  useEffect(() => {\n    fetchTasks();\n  }, []);\n\n  return (\n    <>\n      <TaskList2\n        entries={tasks}\n        loading={loading}\n        error={error}\n        //onChange={onChange}\n        onComplete={onComplete}\n        onDelete={onDelete}\n        //checked={check}\n        isPrioritySorted={isPrioritySorted}\n        onPrioritySorted={onPrioritySorted}\n      />\n    </>\n  );\n}\n\nexport default Tasks;\n","import React, { useState, useEffect } from 'react'\nimport axios from 'axios';\n\nimport FullCalendar from \"@fullcalendar/react\";  \nimport dayGridPlugin from \"@fullcalendar/daygrid\";  \n\nimport { useAuth } from \"../../contexts/AuthContext.js\";\n  \nexport default function Calendar() {\n   \n    const { currentUser } = useAuth();     \n    const [loading, setLoading] = useState(false);\n    const [error, setError] = useState(null);\n    const [events, setEvents] = useState([{ title: \"Today\", date: new Date() }]);     \n    \n    /*\n    let events = [\n        { title: \"Today\", date: new Date() },\n        { title: \"event\", date: \"2021-11-03\" }\n    ];*/\n\n    const fetchTasks = async () => {\n        try {\n            setError(null);            \n            setLoading(true);\n            setEvents({ title: \"Today\", date: new Date() });            \n            \n            const idToken = window.localStorage.getItem(\"token\")\n            const userEmail = currentUser.email\n            const tasksOfuser = await axios.get(\n                '/api/tasks-of-user/' + userEmail, {\n                    headers: {\n                      Authorization: 'Bearer ' + idToken,\n                    },\n                }\n            )\n            console.log(`from Task useEffect -----------------`)\n            console.log(tasksOfuser.data);\n            const tasks = tasksOfuser.data.map((task) => ({title: task.name, date:new Date(task.dueDate.split('T')), url: `task/${task._id}`}))\n            //setEvents(events.push({title:tasksOfuser.data.name, date:tasksOfuser.data.dueDate }));           \n            console.log(tasks);\n            setEvents(events.concat(tasks));\n            console.log(events);\n            \n        }catch(e) {\n            setError(e)\n        }\n        setLoading(false)\n    }\n\n    useEffect(()=>{        \n        fetchTasks()\n    },[]);\n\n\n\n    return (    \n      <FullCalendar\n        defaultView=\"dayGridMonth\"\n        plugins={[dayGridPlugin]}\n        events={events}\n      />    \n  );\n}  \n  \n","import React, { useState, useEffect } from 'react'\nimport axios from 'axios';\nimport { useHistory } from \"react-router-dom\";\nimport { ListGroupItem } from 'react-bootstrap';\nimport styles from \"./Project.module.scss\";\n\nexport default function ProjectItem ( {project} ) {\n    const [tasks, setTasks] = useState([]); \n    const [totalTasks, setTotalTasks] = useState(0);\n    const [completedTasks, setCompletedTasks] = useState(0)\n\n    const history = useHistory();\n    const idToken = window.localStorage.getItem(\"token\")\n\n    useEffect(() => {            \n        getTasks(project);            \n    },[])\n\n    const getTasks = async (project) => {\n        setTotalTasks(0);\n        setCompletedTasks(0);\n\n        const tasksOfproject = await axios.get(\n            '/api/tasks-of-project/' + project._id, {\n                headers: {\n                  Authorization: 'Bearer ' + idToken,\n                },\n            }\n        )\n\n        console.log(tasksOfproject.data);\n            setTasks(tasks.concat(tasksOfproject.data))            \n            setTotalTasks(Number(tasksOfproject.data.length))\n            var count = 0;\n            tasksOfproject.data.map(task => {\n                if(task.isCompleted == true){\n                    count = count+1;\n                    console.log(task.name)\n                    setCompletedTasks(count)                                      \n                }\n            }\n        )\n\n\n    }\n        \n\n    return(          \n        <div className={styles.projectLine} >\n            <ListGroupItem   style={{fontSize: 14}} href={`project/${project._id}`} action>\n                <div className={styles.projectNameThick} > {project.name} </div>\n                <div className={styles.completion}>\n                    Completion: {Math.round(completedTasks/totalTasks*100) ?? 0}%\n                </div>               \n            </ListGroupItem>\n        </div>\n    )\n\n}\n","import React, { Component } from 'react'\nimport {  ListGroup, ListGroupItem, Button, Card } from 'react-bootstrap';\nimport styles from \"./Project.module.scss\";\nimport ProjectItem from './ProjectItem';\n\nexport default class ProjectList extends Component  {    \n   render() {\n      if(this.props.loading) {return <div>on loading..</div>}\n      else if(this.props.error) {return <div>error occured</div>}\n      else if(!this.props) {return (\n          <>\n            <br />\n            <Card style={{ width: \"90rem\" }} className={styles.card}>\n                <Card.Body>\n                    <h1 className=\"text-center\" >Project List</h1>\n                    <ListGroup>\n                       There is no project now...\n                    </ListGroup>\n                    <br />\n                    <Button style={{ color:\"#00000\",background:\"#0A7BC2\", border:\"none\",fontSize: 14}} href=\"/createProject\" size=\"lg\">Create New Project</Button>\n                </Card.Body>\n                                 \n            </Card>\n            <br />         \n          </>\n        )}\n      else {\n        let projects = this.props.entries;        \n       return (\n           <>\n           <br />\n           <Card style={{ width: \"90rem\" }} className={styles.card}>\n               <Card.Body>                    \n                    <h1 className=\"text-center\" >Project List</h1>\n                    <ListGroup>\n                      {projects.map(project => {\n                        return(\n                          <ProjectItem key={project._id} project={project} />  \n                        )\n                      })}                                           \n                    </ListGroup>\n                    <br />\n                    <Button  style={{ color:\"#00000\",background:\"#0A7BC2\", border:\"none\",fontSize: 14}} href=\"/createProject\" size=\"lg\">Create New Project</Button>\n               </Card.Body>\n           </Card>\n           </>\n       )\n      }\n   }\n}","import React from \"react\";\nimport ProjectList from \"./ProjectList\";\n\nimport { useState, useEffect } from 'react'\nimport axios from 'axios';\nimport { useAuth } from \"../../contexts/AuthContext.js\";\n\n\nexport default function Projects() {\n    const { currentUser } = useAuth();\n    const [projects, setProjects] = useState([])   \n    const idToken = window.localStorage.getItem(\"token\") \n    const [loading, setLoading] = useState(false);\n    const [error, setError] = useState(null);   \n    \n\n    const fetchProjects = async () => {\n        try {\n            setError(null);\n            setProjects(null);\n            setLoading(true);\n            \n            const idToken = window.localStorage.getItem(\"token\")\n            const userEmail = currentUser.email\n            const projectsOfuser = await axios.get(\n                '/api//api/projects-of-user/' + userEmail, {\n                    headers: {\n                      Authorization: 'Bearer ' + idToken,\n                    },\n                }\n            )\n            console.log(`from Project useEffect -----------------`)\n            console.log(projectsOfuser.data);\n            setProjects(projects.concat(projectsOfuser.data))\n            \n        }catch(e) {\n            setError(e)\n        }\n        setLoading(false)\n    }\n\n    useEffect(()=>{        \n        fetchProjects()\n    },[]);\n\n    return (\n        <>\n            <ProjectList \n            entries={projects} \n            loading={loading} \n            error={error}\n            //onChange={onChange} \n            //onComplete={onComplete}\n            //checked={check}\n            />            \n        </>\n    )\n\n}\n\n\n","import React, { Component } from \"react\";\nimport { ProgressBar } from \"react-bootstrap\";\nimport { BiSortDown } from \"react-icons/bi\";\nimport styles from \"./Project.module.scss\";\nexport default class DisplayProjectComp extends Component {\n  render() {\n    if (this.props.loading) {\n      return <div>on loading..</div>;\n    } else if (this.props.error) {\n      return <div>error occured</div>;\n    } else if (!this.props) {\n      return <div>Cannot find the project.</div>;\n    } else {\n      let project = this.props.entry;\n      let comp = this.props.comp;\n      if (!this.props.comp) {\n        comp = 0;\n      }\n\n      return (\n        <>\n          <h1 className=\"text-center\"> {project?.name} </h1>\n          <br />\n          <h4>Manager: </h4>\n          <div> {project?.manager} </div>\n          <br />\n          <h4>Description: </h4>\n          <div> {project?.descript} </div>\n          <br />\n          <h4>Completion: </h4>\n          <ProgressBar now={comp} label={`${comp}%`} striped variant=\"info\" />\n          <br />\n          <h1 className=\"text-center\">Tasks for this project</h1>\n          {/* <h4 className={styles.sortRule}>\n            Sorted by {this.props.isPrioritySorted ? \"Priority\" : \"Due date\"}\n          </h4> */}\n          {/* <BiSortDown\n            style={{}}\n            className={styles.sortIcon}\n            onClick={this.props.onPrioritySorted}\n          /> */}\n        </>\n      );\n    }\n  }\n}\n","import React from 'react';\n\nimport { Form, Button, Card, Alert } from \"react-bootstrap\";\n\nimport styles from \"./Project.module.scss\";\nimport \"bootstrap/dist/css/bootstrap.css\";\n\nfunction EditProject ({ existingProject, name, descript, onEdit, onChange, onCancel }) {\n    return(\n        <>\n            <h1 className=\"text-center\">Edit Project</h1>\n            <form onSubmit={onEdit}>\n                    <Form.Group id=\"name\">\n                        <Form.Label class=\"col-sm-2 col-form-label col-form-label-lg\">Project Name</Form.Label>\n                        <input placeholder=\"title\"\n                        name=\"name\"\n                        value={name}\n                        onChange={onChange}\n                        required\n                        />\n                    </Form.Group>\n                    \n                    <Form.Group id=\"descript\">\n                        <Form.Label class=\"col-sm-2 col-form-label col-form-label-lg\">Description</Form.Label>\n                        <textarea placeholder=\"description\"\n                            name=\"descript\"\n                            value={descript}\n                            onChange={onChange}\n                        />\n                    </Form.Group>\n                    \n                    <br />\n                    <Button type=\"submit\" style={{ color:\"#00000\",background:\"#0A7BC2\", border:\"none\",paddingRight: 16, paddingLeft: 16,fontSize: 14}} size=\"lg\" >Save</Button> \n                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\n                    <Button  style={{ color:\"#00000\",background:\"#FE6D73\", border:\"none\",paddingRight: 16, paddingLeft: 16,fontSize: 14}} size=\"lg\" onClick={onCancel}>Cancel</Button> \n            </form>\n        </>\n\n        \n    )\n}\n\nexport default EditProject;","import React from \"react\";\nimport axios from \"axios\";\nimport DisplayProjectComp from \"./DisplayProjectComp\";\nimport TaskItem from \"../tasks/taskItem\";\nimport TaskList2 from \"../tasks/taskList2\";\nimport EditProject from \"./EditProject\";\nimport { useState, useEffect, useRef } from \"react\";\nimport { Button, Card } from \"react-bootstrap\";\nimport { useHistory } from \"react-router-dom\";\nimport { BiSortDown } from \"react-icons/bi\";\nimport styles from \"./Project.module.scss\";\n\nexport default function DisplayProject(props) {\n  const [project, setProject] = useState();\n  const [tasks, setTasks] = useState([]);\n  const [totalTasks, setTotalTasks] = useState(0);\n  const [completedTasks, setCompletedTasks] = useState(0);\n  const [inputs, setInputs] = useState({\n    name: \"\",\n    manager: \"\",\n    descript: \"\",\n  });\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const history = useHistory();\n  const idToken = window.localStorage.getItem(\"token\");\n  const id = props.match.params.id;\n  const [isEditing, setIsEditing] = useState(false);\n  const [isPrioritySorted, setIsPrioritySorted] = useState(false);\n  const { name, descript } = inputs;\n\n  //added by Yonghwan\n  const [p1Count, setP1Count] = useState(0);\n  const [p2Count, setP2Count] = useState(0);\n  const [p3Count, setP3Count] = useState(0);\n  const [p4Count, setP4Count] = useState(0);\n\n  const [editDeleteToggle, setEditDeleteToggle] = useState(0);\n\n  // useEffect(() => {\n  //   if(tasks.length == 0){\n  //     getProject(props);\n  //   }else{\n  //     console.log(`in the useEffect else block`)\n  //     calculateTaskCounts(tasks);//I should not change tasks in this function.\n  //   }\n  // }, [tasks]);\n\n  useEffect(() => {\n    if(editDeleteToggle == 0){\n      getProject(props);\n    }else{\n      console.log(`in the useEffect else block---->editDeleteToggle: ${editDeleteToggle}`)\n\n      calculateTaskCounts(tasks);//I should not change tasks in this function.\n    }\n  }, [editDeleteToggle]);\n\n// Associated states: totalTasks, completedTasks, p1Count ~ p4Count.\nconst calculateTaskCounts = (tasks) => {\n  let count = 0;\n  let totalCount = 0;\n  let p1counter = 0;\n  let p2counter = 0;\n  let p3counter = 0;\n  let p4counter = 0;\n\n  //setTotalTasks(Number(tasks.length));\n  tasks.forEach(task=>{\n    ++totalCount;\n    if (task.isCompleted == true) {\n      count = count + 1;      \n    } else {\n      switch (task.priority) {\n        case \"P1\":\n          ++p1counter;\n          //setP1Count(p1counter);\n          break;\n        case \"P2\":\n          ++p2counter;          \n          //setP2Count(p2counter);\n          break;\n        case \"P3\":\n          ++p3counter;          \n          //setP3Count(p3counter);\n          break;\n        case \"P4\":\n          ++p4counter;          \n          //setP4Count(p4counter);\n          break;\n        default:\n      }\n    }\n  });\n  setTotalTasks(totalCount);\n  setCompletedTasks(count);\n  setP1Count(p1counter);\n  setP2Count(p2counter);\n  setP3Count(p3counter);\n  setP4Count(p4counter);\n\n  console.log(`p1: ${p1Count}`);\n  console.log(`p2: ${p2Count}`);\n  console.log(`p3: ${p3Count}`);\n  console.log(`p4: ${p4Count}`);\n}\n\n  const getProject = async (props) => {\n    try {\n      setError(null);\n      setProject(null);\n      setLoading(true);\n      setTotalTasks(0);\n      setCompletedTasks(0);\n      const projectOfid = await axios.get(\n        \"/api/display-project/\" + id,\n        {\n          headers: {\n            Authorization: \"Bearer \" + idToken,\n          },\n        }\n      );\n      console.log(`from Project useEffect -----------------`);\n      console.log(projectOfid.data);\n      setProject(projectOfid.data);\n      setInputs({\n        ...inputs,\n        name: projectOfid.data.name,\n        manager: projectOfid.data.manager,\n        descript: projectOfid.data.descript,\n      });\n      const tasksOfproject = await axios.get(\n        \"/api/tasks-of-project/\" + id,\n        {\n          headers: {\n            Authorization: \"Bearer \" + idToken,\n          },\n        }\n      );\n      console.log(`from Tasks useEffect in Project -----------------`);\n      console.log(tasksOfproject.data);\n      setTasks(tasks.concat(tasksOfproject.data));\n      setTotalTasks(Number(tasksOfproject.data.length));\n      var count = 0;\n      /*tasksOfproject.data.map((task) => {\n        if (task.isCompleted == true) {\n          count = count + 1;\n          console.log(task.name);\n          setCompletedTasks(count);\n        }\n      });*/\n      let p1counter = 0;\n      let p2counter = 0;\n      let p3counter = 0;\n      let p4counter = 0;\n      tasksOfproject.data.map((task) => {\n        if (task.isCompleted == true) {\n          count = count + 1;\n          console.log(task.name);\n          setCompletedTasks(count);\n        } else {\n          switch (task.priority) {\n            case \"P1\":\n              ++p1counter;\n              //setP1Count(p1counter);\n              break;\n            case \"P2\":\n              ++p2counter;              \n              //setP2Count(p2counter);\n              break;\n            case \"P3\":\n              ++p3counter;              \n              //setP3Count(p3counter);\n              break;\n            case \"P4\":\n              ++p4counter;              \n              //setP4Count(p4counter);\n              break;\n            default:\n          }\n          setP1Count(p1counter);\n          setP2Count(p2counter);\n          setP3Count(p3counter);\n          setP4Count(p4counter);\n        }\n      });\n    } catch (e) {\n      setError(e);\n      console.log(e);\n    }\n    setLoading(false);\n  };\n\n  const deleteProject = async (props) => {\n    try {\n      const projectOfid = await axios.delete(\n        \"/api/delete-project/\" + id,\n        {\n          headers: {\n            Authorization: \"Bearer \" + idToken,\n          },\n        }\n      );\n\n      history.push(\"/\");\n    } catch (e) {\n      setError(e);\n    }\n    setLoading(false);\n  };\n\n  const onChange = (e) => {\n    const { name, value } = e.target;\n    setInputs({\n      ...inputs,\n      [name]: value,\n    });\n  };\n  const onComplete = (e, id) => {\n    //setCheck(e.target.checked);\n    const task = {\n      isCompleted: e.target.checked,\n    };\n    editTask(task, id);\n    setTasks(\n      tasks.map((task) =>\n        task._id === id ? { ...task, isCompleted: e.target.checked } : task\n      )\n    );\n    \n    if (e.target.checked) {\n      setCompletedTasks(completedTasks + 1);\n    } else {\n      setCompletedTasks(completedTasks - 1);\n    }\n    //let increase = 1;\n    setEditDeleteToggle(editDeleteToggle+1);\n  };\n  const onDelete = (e, id) => {\n    deleteTask(id);\n    setTasks(tasks.filter((task) => task._id !== id));\n    setEditDeleteToggle(editDeleteToggle+1);\n  };\n  const onPrioritySorted = () => {\n    setIsPrioritySorted(!isPrioritySorted);\n  };\n  const deleteTask = async (task_id) => {\n    setError(null);\n    try {\n      const taskOfid = await axios.delete(\n        \"/api/delete-task/\" + task_id,\n        {\n          headers: {\n            Authorization: \"Bearer \" + idToken,\n          },\n        }\n      );\n      //history.push(\"/\");\n    } catch (e) {\n      setError(e);\n    }\n    //setLoading(false);\n  };\n  const editTask = async (task, id) => {\n    try {\n      setError(null);\n      //setTasks([null]);\n      //setLoading(true);\n      const updatedTask = await axios.put(\n        \"/api/update-task/\" + id,\n        task,\n        {\n          headers: {\n            Authorization: \"Bearer \" + idToken,\n          },\n        }\n      );\n      console.log(`from within editTask -----------------`);\n      console.log(updatedTask.data);\n    } catch (e) {\n      setError(e);\n    }\n    //setLoading(false)\n  };\n\n  const onCancel = (e) => {\n    setIsEditing(!isEditing);\n    setInputs({\n      ...inputs,\n      name: project.name,\n      descript: project.descript,\n    });\n  };\n\n  const onEdit = (e) => {\n    e.preventDefault();\n    const project = {\n      name: inputs.name,\n      descript: inputs.descript,\n    };\n    editProject(project);\n    console.log(project);\n    setIsEditing(!isEditing);\n    console.log(project);\n    //? Without this push, data is not rendered inside DisplayProjectComp.js\n    history.push(\"/project_list\");\n  };\n\n  const editProject = async (props) => {\n    try {\n      const updatedProject = await axios.put(\n        \"/api/update-project/\" + id,\n        props,\n        {\n          headers: {\n            Authorization: \"Bearer \" + idToken,\n          },\n        }\n      );\n      console.log(`from within editProject -----------------`);\n      console.log(updatedProject.data);\n    } catch (e) {\n      setError(e);\n    }\n    setLoading(false);\n  };\n\n\n  // let p1counter = 0;\n  // let p2counter = 0;\n  // let p3counter = 0;\n  // let p4counter = 0;\n  // tasks.forEach(t=>{\n  //   if(t.isCompleted === false) {\n  //     switch (t.priority) {\n  //       case \"P1\":\n  //         ++p1counter;\n  //         //setP1Count(p1counter);\n  //         break;\n  //       case \"P2\":\n  //         ++p2counter;\n  //         //setP2Count(p2counter);\n  //         break;\n  //       case \"P3\":\n  //         ++p3counter;\n  //         //setP3Count(p3counter);\n  //         break;\n  //       case \"P4\":\n  //         ++p4counter;\n  //         //setP4Count(p4counter);\n  //         break;\n  //       default:\n  //     }\n  //   }\n  // });\n\n\n  return (\n    <>\n      <br />\n      <Card style={{ width: \"90rem\" }} className={styles.card}>\n        <Card.Body>\n          {isEditing ? (\n            <EditProject\n              name={name}\n              descript={descript}\n              onEdit={onEdit}\n              onChange={onChange}\n              onCancel={onCancel}\n              existProject={project}\n            />\n          ) : (\n            <>\n              <DisplayProjectComp\n                entry={project}\n                comp={Math.round((completedTasks / totalTasks) * 100)}\n                loading={loading}\n                error={error}\n                onPrioritySorted={onPrioritySorted}\n                isPrioritySorted={isPrioritySorted}\n              />\n              <h4 className={styles.sortRule}>\n                Sorted by {isPrioritySorted ? \"Priority\" : \"Due date\"}\n              </h4>\n              <BiSortDown\n                style={{}}\n                className={styles.sortIcon}\n                onClick={onPrioritySorted}\n              />\n              {/* {tasks?.map((task) => {\n                return (\n                  <TaskItem\n                    key={task._id}\n                    task={task}\n                    onComplete={onComplete}\n                    onDelete={onDelete}\n                  />\n                );\n              })} */}\n              {totalTasks - completedTasks > 0 && (\n                <h5 className={styles.isCompletedHeader}>\n                  UnCompleted Tasks: {totalTasks - completedTasks}\n                </h5>\n              )}\n              {!isPrioritySorted &&\n                tasks\n                  .sort((a, b) => {\n                    //if(typeof a.dueDate === 'Date')\n                    if (typeof a.dueDate !== \"string\") a.dueDate.toISOString();\n                    if (typeof b.dueDate !== \"string\") b.dueDate.toISOString();\n                    return a.dueDate //2021-11-27T23:47:00.000Z\n                      .split(\"T\")[0] //2021-11-27\n                      .split(\"-\") // [2021, 11, 27]\n                      .join()\n                      .localeCompare(b.dueDate.split(\"T\")[0].split(\"-\").join());\n                  })\n                  .map((task) => {\n                    if (task.isCompleted === false) {\n                      if (typeof task.dueDate === \"object\")\n                        task.dueDate.toISOString();\n                      return (\n                        <TaskItem\n                          key={task._id}\n                          task={task}\n                          onComplete={onComplete}\n                          onDelete={onDelete}\n                        />\n                      );\n                    }\n                  })}\n\n              {isPrioritySorted && p1Count > 0 && (                 \n                <div className={styles.textBox}>\n                  <h5 className={styles.alignLeft}>{p1Count}</h5>\n                  <h5 className={styles.P1_alignCenter}>Priority 1</h5>\n                </div>\n              )}\n              {isPrioritySorted &&\n                tasks\n                  .filter((task) => task.priority === \"P1\")\n                  .map((task) => {\n                    if (task.isCompleted === false) {\n                      if (typeof task.dueDate === \"object\")\n                        task.dueDate.toISOString();\n                      return (\n                        <TaskItem\n                          key={task._id}\n                          task={task}\n                          onComplete={onComplete}\n                          onDelete={onDelete}\n                        />\n                      );\n                    }\n                  })}\n\n              {isPrioritySorted && p2Count > 0 && (                 \n                <div className={styles.textBox}>\n                  <h5 className={styles.alignLeft}>{p2Count}</h5>\n                  <h5 className={styles.P2_alignCenter}>Priority 2</h5>\n                </div>\n              )}\n              {isPrioritySorted &&\n                tasks\n                  .filter((task) => task.priority === \"P2\")\n                  .map((task) => {\n                    if (task.isCompleted === false) {\n                      if (typeof task.dueDate === \"object\")\n                        task.dueDate.toISOString();\n                      return (\n                        <TaskItem\n                          key={task._id}\n                          task={task}\n                          onComplete={onComplete}\n                          onDelete={onDelete}\n                        />\n                      );\n                    }\n                  })}\n\n              {isPrioritySorted && p3Count > 0 && (\n                <div className={styles.textBox}>\n                  <h5 className={styles.alignLeft}>{p3Count}</h5>\n                  <h5 className={styles.P3_alignCenter}>Priority 3</h5>\n                </div>\n              )}\n              {isPrioritySorted &&\n                tasks\n                  .filter((task) => task.priority === \"P3\")\n                  .map((task) => {\n                    if (task.isCompleted === false) {\n                      if (typeof task.dueDate === \"object\")\n                        task.dueDate.toISOString();\n                      return (\n                        <TaskItem\n                          key={task._id}\n                          task={task}\n                          onComplete={onComplete}\n                          onDelete={onDelete}\n                        />\n                      );\n                    }\n                  })}\n\n              {isPrioritySorted && p4Count > 0 && (                 \n                <div className={styles.textBox}>\n                  <h5 className={styles.alignLeft}>{p4Count}</h5>\n                  <h5 className={styles.P4_alignCenter}>Priority 4</h5>\n                </div>\n              )}\n              {isPrioritySorted &&\n                tasks\n                  .filter((task) => task.priority === \"P4\")\n                  .map((task) => {\n                    if (task.isCompleted === false) {\n                      if (typeof task.dueDate === \"object\")\n                        task.dueDate.toISOString();\n                      return (\n                        <TaskItem\n                          key={task._id}\n                          task={task}\n                          onComplete={onComplete}\n                          onDelete={onDelete}\n                        />\n                      );\n                    }\n                  })}\n              {completedTasks > 0 && (\n                <h5 className={styles.isCompletedHeader}>\n                  Completed Tasks: {completedTasks}\n                </h5>\n              )}\n              {tasks\n                .sort((a, b) => {\n                  //if(typeof a.dueDate === 'Date')\n                  if (typeof a.dueDate !== \"string\") a.dueDate.toISOString();\n                  if (typeof b.dueDate !== \"string\") b.dueDate.toISOString();\n                  return a.dueDate //2021-11-27T23:47:00.000Z\n                    .split(\"T\")[0] //2021-11-27\n                    .split(\"-\") // [2021, 11, 27]\n                    .join()\n                    .localeCompare(b.dueDate.split(\"T\")[0].split(\"-\").join());\n                })\n                .map((task) => {\n                  if (task.isCompleted === true) {\n                    if (typeof task.dueDate === \"object\")\n                      task.dueDate.toISOString();\n                    return (\n                      <TaskItem\n                        key={task._id}\n                        task={task}\n                        onComplete={onComplete}\n                        onDelete={onDelete}\n                      />\n                    );\n                  }\n                })}\n\n              <br />\n            </>\n          )}\n          {!isEditing ? (\n            <span>\n              <Button\n                style={{\n                  color: \"#00000\",\n                  background: \"#0A7BC2\",\n                  border: \"none\",\n                  paddingRight: 16,\n                  paddingLeft: 16,\n                  fontSize: 14,\n                }}\n                size=\"lg\"\n                href={`/createProjectTask/${id}`}\n              >\n                Add Task\n              </Button>\n              &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\n              <Button\n                style={{\n                  color: \"#00000\",\n                  background: \"#0A7BC2\",\n                  border: \"none\",\n                  paddingRight: 16,\n                  paddingLeft: 16,\n                  fontSize: 14,\n                }}\n                size=\"lg\"\n                onClick={() => setIsEditing(!isEditing)}\n              >\n                Edit Project\n              </Button>\n              &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\n              <Button\n                style={{\n                  color: \"#00000\",\n                  background: \"#FE6D73\",\n                  border: \"none\",\n                  fontSize: 14,\n                }}\n                size=\"lg\"\n                onClick={deleteProject}\n              >\n                Delete Project\n              </Button>\n            </span>\n          ) : (\n            <span></span>\n          )}\n        </Card.Body>\n      </Card>\n    </>\n  );\n}\n","import React from \"react\";\n\nimport { useState, useRef } from 'react'\nimport { useHistory } from \"react-router-dom\";\nimport axios from 'axios';\nimport { useAuth } from \"../../contexts/AuthContext.js\";\nimport CreateTask2 from '../tasks/CreateTask2';\n\nexport default function CreateProTask( props ) {\n    const { currentUser } = useAuth();\n    const [tasks, setTasks] = useState([])\n    const [inputs, setInputs] = useState({        \n        name: '',\n        user: null,\n        descript:''\n    })\n    const [dueDate, setDueDate] = useState(new Date());\n    const [priority, setPriority] = useState(\"P4\");\n    const [notification, setNotification] = useState(true);\n    const [loading, setLoading] = useState(false);\n    const [error, setError] = useState(null);\n\n    const { name, user, descript } = inputs;\n    const _id = useRef(1);\n\n    const history = useHistory();\n\n    const handlePriorityChange = (e) => {\n        setPriority(e.target.value);\n        console.log(\"Priority: \" + e.target.value);\n    };\n      const handleNotification = (e) => {\n        console.log(notification);\n        setNotification(e.target.checked);\n    };\n    const handleDateChange = (date) => {\n        console.log(date);\n        setDueDate(date);\n    };\n    const onChange = e => {\n        const { name, value } = e.target;\n        setInputs({\n            ...inputs,\n            [name]: value\n        })\n    }\n\n    const addNewTask = async (task) => {\n        try {            \n            const idToken = window.localStorage.getItem(\"token\")\n            const userEmail = currentUser.email\n\n            const response = await axios.post(\n                '/api/create-task/' + userEmail,\n                task,\n                {\n                 \n                    headers: {\n                      Authorization: 'Bearer ' + idToken,\n                    },\n                }\n            )\n            console.log(`addNewTask's response: ${response.data._id}`);\n\n\n\n            setTasks([...tasks, response.data])\n\n            setInputs({\n                name: '',\n                user: null,\n                descript:''\n            })\n            history.push(\"/\");  \n        }catch (e) {\n            console.error(e);\n        }\n    }\n\n    const onCreate = (e) => {\n        e.preventDefault();\n        const userEmail = currentUser.email\n        const task = {\n            //_id: _id.current,\n            name: inputs.name,\n            user: userEmail,            \n            participants: [user],\n            descript: inputs.descript,\n            dueDate: dueDate,\n            project: props.match.params.id,\n            priority: priority,\n            notification: notification,\n        }\n        //todo after fixing axios and token issue, \n        addNewTask(task);\n        \n    }\n\n    return (\n        <>\n            <br />\n            <CreateTask2  \n                name={name}\n                descript={descript}\n                dueDate={dueDate}\n                priority={priority}\n                onCreate={onCreate}\n                onChange={onChange}\n                handleDateChange={handleDateChange}\n                handlePriorityChange={handlePriorityChange}\n                handleNotification={handleNotification}\n            />\n            \n        </>\n    );\n\n}","import axios from 'axios';\nimport firebase from 'firebase';\n\nconst url = '/api//api/create-or-update-user';\n\nconst createToken = async () => {\n    const user = firebase.auth().currentUser;\n    const token = user && (await user.getIdToken());\n  \n    const payloadHeader = {\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: `Bearer ${token}`,\n      },\n    };\n    return payloadHeader;\n  }\n\nexport const addToUser = (email, userName,password) => {\n  //const header = createToken();\n  //console.log(header);\n  const payload = {\n    email,\n    userName,\n    password\n  }\n  try {\n    console.log(payload);    \n    // const res = axios.post(url, payload, header);\n    const res = axios.post(url, payload);\n    console.log(res);\n    return res.data;\n  } catch (e) {\n    console.error(e);\n  }\n};\n\nexport const updateUser = (email, userName) => {\n  //const header = createToken();\n  //console.log(header);\n  const payload = {\n    email,\n    userName\n  }\n  try {\n    console.log(payload);    \n    // const res = axios.post(url, payload, header);\n    const res = axios.put(url, payload);\n    console.log(res);\n    return res.data;\n  } catch (e) {\n    console.error(e);\n  }\n};\n","import React from 'react';\n\nimport { Form, Button, Card, Alert } from \"react-bootstrap\";\n\nimport styles from \"./user.module.scss\";\nimport \"bootstrap/dist/css/bootstrap.css\";\nimport { auth } from \"../../firebase\";\n\n\nfunction EditUser ({ existUser, userName, notificationTime, onEdit, onChange, onCancel,handleNotificationTimeChange }) {\n    \n    return(\n        <>\n            <h1 className=\"text-center\">Edit User Information</h1>\n            <form onSubmit={onEdit}>\n                    <Form.Group id=\"c-u-name\">\n                        <Form.Label class=\"col-sm-2 col-form-label col-form-label-lg\">Current User Name</Form.Label>\n                        {existUser?.userName}\n                    </Form.Group>\n                    \n                    <Form.Group id=\"name\">\n                        <Form.Label class=\"col-sm-2 col-form-label col-form-label-lg\">New User Name</Form.Label>\n                        <input placeholder=\"please enter new user name\"\n                        name=\"name\"\n                        value={userName}\n                        onChange={onChange}\n                        />\n                    </Form.Group>\n                    <br/>\n\n                    <Form.Group id=\"notificationTime\">\n                        Notification Time: &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\n                        <select name=\"notificationTime\" value={notificationTime} onChange={handleNotificationTimeChange}>                            \n                            <option value=\"00:00\">00:00</option>\n                            <option value=\"09:00\">09:00</option>\n                            <option value=\"12:00\">12:00</option>\n                            <option value=\"21:00\">21:00</option>\n                        </select>\n                    </Form.Group>\n\n                    <br/>\n                    <br/>\n                    \n                    <Button type=\"submit\" style={{ color:\"#00000\",background:\"#0A7BC2\", border:\"none\",paddingRight: 16, paddingLeft: 16,fontSize: 14}} size=\"lg\" >Save Changes</Button> \n                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\n                    <Button  style={{ color:\"#00000\",background:\"#FE6D73\", border:\"none\",paddingRight: 16, paddingLeft: 16,fontSize: 14}} size=\"lg\" onClick={onCancel}>Cancel</Button> \n            </form>\n            \n        </>\n            \n    )\n}\n\nexport default EditUser;","\nimport React, { useState, useEffect, useReducer } from \"react\";\nimport axios from 'axios';\nimport firebase from 'firebase';\n\nimport { CSVLink } from \"react-csv\";\nimport { getAuth, reauthenticateWithCredential } from \"firebase/auth\";\nimport { useHistory } from \"react-router-dom\";\n\nimport {\n  Card,\n  ListGroup,\n  DropdownButton,\n  Dropdown,\n  Button,\n  Form,\n} from \"react-bootstrap\";\nimport { useAuth } from \"../../contexts/AuthContext.js\";\nimport { updateUser } from \"./UserServices\";\nimport styles from \"./Signup.module.scss\";\nimport EditUser from \"./EditUser.js\";\nimport { constrainPoint } from \"@fullcalendar/common\";\n\nimport \"bootstrap/dist/css/bootstrap.css\";\n \n\nexport default function Account( props ) {\n\n    const idToken = window.localStorage.getItem(\"token\")\n    const [loading, setLoading] = useState(false);\n    const [error, setError] = useState(null);\n    const history = useHistory();\n    const [user, setUser] = useState([]);    \n    const [inputs, setInputs] = useState({\n        name: '',\n        email: '',\n    })\n\n    const { currentUser } = useAuth();\n    const [isEditing, setIsEditing] = useState(true);\n    const [showConfirm, setShowConfirm] = useState(false);\n    const { name, email } = inputs;\n    const [notificationTime, setNotificationTime] = useState('');\n    const headers = [\n        { label: \"Subject\", key: \"name\" },\n        { label: \"Start date\", key: \"dueDate\" },\n        { label: \"Descript\", key: \"descript\" }\n    ];\n    const [taskData, setTaskData] = useState([]);\n\n\n    useEffect(() => {            \n        getUser(props);                                \n    },[])   \n    \n    const getUser = async (props) => {        \n        \n        try {\n            setError(null);\n            setLoading(true);\n            setTaskData([]);       \n            const userOfEmail = await axios.get(\n                '/api/current-user/' + currentUser.email, {\n                    headers: {\n                      Authorization: 'Bearer ' + idToken,\n                    },\n                }\n            )\n            setUser(userOfEmail.data)\n            setInputs({\n                ...inputs,\n                name: user.userName,\n                email: user.email\n            })\n            setNotificationTime(userOfEmail.data.notificationTime)\n\n            const tasksOfuser = await axios.get(\n                \"/api/tasks-of-user/\" + currentUser.email,\n                {\n                  headers: {\n                    Authorization: \"Bearer \" + idToken,\n                  },\n                }\n            );            \n            var tasklist = []\n            tasksOfuser.data.map(task => {\n                tasklist.push({name: task.name, dueDate: `${task.dueDate.split(\"T\")[0]}`,descript: task.descript})\n            })\n            console.log(tasklist)            \n            setTaskData(taskData.concat(tasklist)) \n            \n        }catch(e) {\n            setError(e)\n            console.log(e)\n        }        \n        setLoading(false)\n    }\n\n    const onEdit = (e) => {\n        e.preventDefault();\n        \n        const user = {\n            userName: inputs.name,\n            notificationTime: notificationTime\n\n        }\n      \n\n      editUser(user);\n      console.log(user);\n      setIsEditing(!isEditing);\n      console.log(user);\n  \n      history.push(\"/\");\n    }\n  \n  const handleNotificationTimeChange = (e) => {\n        setNotificationTime(e.target.value)\n        console.log('notificationTime: ' + e.target.value)\n   }\n\n  const onCancel = (e) => {\n    setIsEditing(!isEditing);\n    setInputs({\n      ...inputs,\n      name: user.userName,\n    });\n  };\n\n  const onChange = (e) => {\n    const { name, value } = e.target;\n    setInputs({\n      ...inputs,\n      [name]: value,\n    });\n  };\n\n  const onDelete = () => {\n    //error: TypeError: Object(...) is not a function\n    /*const auth = getAuth();\n    const user = auth.currentUser;\n    reauthenticateWithCredential(user, \"Password\")\n      .then(() => {\n        // User re-authenticated.\n        console.log(`user has been re-authenticated`);\n      })\n      .catch((error) => {\n        // An error ocurred\n        // ...\n        console.log(`error during re-auth: ${error}`);\n      });*/\n\n    currentUser\n      .delete()\n      .then(() => {\n        deleteUser();\n        console.log(\"user is deleted\");\n        localStorage.removeItem(\"token\");\n        window.location.reload(true);\n      })\n      .catch((error) => {\n        console.log(\"Error occurred while deleting user: \" + error);\n      });\n\n  };\n\n  const deleteUser = async () => {\n    try {\n      await axios.delete(\n        \"/api/delete-user/\" + currentUser.email,\n        {\n          headers: {\n            Authorization: \"Bearer \" + idToken,\n          },\n        }\n      );\n    } catch (e) {\n      setError(e);\n    }\n    setLoading(false);\n  };\n\n  const editUser = async (props) => {\n    try {\n      const updatedUser = await axios.put(\n        \"/api/update-user/\" + currentUser.email,\n        props,\n        {\n          headers: {\n            Authorization: \"Bearer \" + idToken,\n          },\n\n        }\n      );\n\n      console.log(`from within editUser -----------------`);\n      console.log(updatedUser.data);\n    } catch (e) {\n      setError(e);\n    }\n    setLoading(false);\n  };\n\n\n  return (\n    <>\n    <br />\n      <Card style={{ width: \"90rem\" }} className={styles.accountCard}>\n        {isEditing ? (\n          <h2 className=\"text-center mb-4\">Account Service</h2>\n        ) : (\n          <></>\n        )}\n        <Card.Body>\n          {!isEditing ? (\n            <EditUser\n              name={name}\n              email={email}\n              onEdit={onEdit}\n              onChange={onChange}\n              onCancel={onCancel}\n              existUser={user}\n              handleNotificationTimeChange={handleNotificationTimeChange}\n            />\n          ) : (\n            <>\n              <p>Username: {user.userName}</p>\n              <p>Email: {user.email}</p>\n              <ListGroup.Item action href=\"/forgotPass\">\n                Reset Password\n              </ListGroup.Item>\n              \n               <ListGroup.Item action> <CSVLink \n                                    filename=\"The_Reminder.csv\" \n                                    headers={headers}\n                                    data={taskData}\n                                    className = {styles.csvlink}>Export to CSV </ CSVLink>\n                                    </ListGroup.Item>\n\n              <ListGroup.Item action onClick={() => setIsEditing(!isEditing)}>\n                Edit User Information\n              </ListGroup.Item>\n              <ListGroup.Item\n                action\n                href=\"\"\n                onClick={() => setShowConfirm(!showConfirm)}\n              >\n                Delete Account\n              </ListGroup.Item>\n              {showConfirm && (\n                <ListGroup.Item\n                  action\n                  href=\"\"\n                  onClick={() => setShowConfirm(!showConfirm)}\n                  className={styles.deleteMessage}\n                >\n                  Deleting account will permanently remove your data. If you\n                  want to, &nbsp;  <span className={styles.reLoginMessage}>Re-login </span>and click\n                  confirm.\n                  \n                </ListGroup.Item>\n              )}\n              {showConfirm && (\n                <Button\n                  type=\"submit\"\n                  style={{\n                    color: \"#00000\",\n                    background: \"#0A7BC2\",\n                    border: \"none\",\n                    paddingRight: 16,\n                    paddingLeft: 16,\n                    fontSize: 14,\n                  }}\n                  size=\"lg\"\n                  onClick={onDelete}\n                >\n                  Confirm\n                </Button>\n              )}\n              &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\n              {showConfirm && (\n                <Button\n                  style={{\n                    color: \"#00000\",\n                    background: \"#FE6D73\",\n                    border: \"none\",\n                    paddingRight: 16,\n                    paddingLeft: 16,\n                    fontSize: 14,\n                  }}\n                  size=\"lg\"\n                  onClick={() => setShowConfirm(!showConfirm)}\n                >\n                  Cancel\n                </Button>\n              )}\n            </>\n\n          )}\n        </Card.Body>\n      </Card>\n    </>\n  );\n}\n","import React, { useRef, useState } from \"react\";\nimport { Form, Button, Card, Alert } from \"react-bootstrap\";\nimport { useAuth } from \"../../contexts/AuthContext\";\nimport { Link, useHistory } from \"react-router-dom\";\n\nimport styles from \"./Signup.module.scss\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\n\nimport { addToUser } from \"./UserServices\";\n\nexport default function Signup() {\n  const emailRef = useRef();\n  const passwordRef = useRef();\n  const passwordConfirmRef = useRef();\n  const { signup, login } = useAuth(); //retrieve only signup property of value of context.\n  const [error, setError] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  const history = useHistory();\n\n  if (window.localStorage.getItem(\"token\")) {\n    history.push(\"/\");\n  }\n\n  async function handleSubmit(e) {\n    e.preventDefault();\n\n    if (passwordRef.current.value !== passwordConfirmRef.current.value) {\n      return setError(\"Passwords do not match\");\n    }\n\n    try {\n      setError(\"\");\n      setLoading(true);\n      await signup(emailRef.current.value, passwordRef.current.value); //returns UserCredential\n      var userName = emailRef.current.value.split(\"@\")[0];\n      addToUser(emailRef.current.value, userName, passwordRef.current.value);\n      \n      //return type of login is Promise<UserCredential>\n      //https://firebase.google.com/docs/reference/js/auth.usercredential.md#usercredential_interface\n      //It has three properties.\n      //One of them is user of Type 'User'\n      \n      const user = await login(\n        emailRef.current.value,\n        passwordRef.current.value\n      );\n\n      window.localStorage.setItem(\"token\", user.getIdToken());\n      \n      window.location.reload(true);\n    } catch (e) {\n      console.log(e);\n      if (e.code === \"auth/email-already-in-use\") {\n        setError(e.message);\n      } else {\n        setError(\"Failed to create an account\");\n      }\n    }\n\n    setLoading(false);\n  }\n\n  return (\n    <>\n      <br />\n      <Card style={{ width: \"30rem\" }} className={styles.card}>\n        <Card.Body>\n          <h2 className=\"text-center\">Sign Up</h2>\n          {error && <Alert variant=\"danger\">{error}</Alert>}\n          <Form\n            onSubmit={handleSubmit}\n            className=\"mb-3\"\n            controlId=\"formBasicEmail\"\n          >\n            <Form.Group id=\"email\">\n              <Form.Label>Email</Form.Label>\n              <Form.Control type=\"email\" ref={emailRef} required />\n            </Form.Group>\n            <Form.Group id=\"password\">\n              <Form.Label>Password</Form.Label>\n              <Form.Control type=\"password\" ref={passwordRef} required />\n            </Form.Group>\n            <Form.Group id=\"password-confirm\">\n              <Form.Label>Password Confirmation</Form.Label>\n              <Form.Control type=\"password\" ref={passwordConfirmRef} required />\n            </Form.Group>\n            <br />\n            <Button disabled={loading} className=\"w-100\" type=\"submit\">\n              Sign Up\n            </Button>\n          </Form>\n        </Card.Body>\n      </Card>\n      <div className=\"w-100 text-center mt-2\">\n        Already have an account? <Link to=\"/login\">Log In</Link>\n      </div>\n    </>\n  );\n}\n","import React, { useRef, useState, useEffect } from \"react\";\nimport { Form, Button, Card, Alert } from \"react-bootstrap\";\nimport { useAuth } from \"../../contexts/AuthContext.js\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport firebase from \"firebase\";\nimport styles from \"./Signup.module.scss\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\n\nexport default function Login() {\n  const emailRef = useRef();\n  const passwordRef = useRef();\n  const { login, setToken } = useAuth();\n  const [error, setError] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  const [email, setEmail] = useState();\n  const [password, setPassword] = useState();\n  const history = useHistory();\n\n  //! edited by Yonghwan: to get around the Maximum update state issue.\n  // if (window.localStorage.getItem(\"token\")) {\n  //   history.push(\"/\");\n  // }\n  useEffect(() => {\n    if (window.localStorage.getItem(\"token\")) {\n      history.push(\"/\");\n    }\n  }, []);\n  //!------------------------------------------------------------------\n\n\n  async function handleSubmit(e) {\n    e.preventDefault();\n\n    try {\n      setError(\"\");\n      setLoading(true);\n\n      const userInfo = await login(\n        emailRef.current.value,\n        passwordRef.current.value\n      );\n\n      const token = await userInfo.getIdToken();\n\n      window.localStorage.setItem(\"token\", token);\n      \n      setToken(token);\n      //console.log(userInfo.metadata)\n      // firebase.auth().signInWithEmailAndPassword(email, password)\n      // .catch((error) => {\n      //   console.error('Incorrect username or password');\n      // });\n      window.location.reload(true);\n\n    } catch (e) {\n      console.log(e)\n      setError(\"Failed to log in\");\n    }\n\n    history.push(\"/\");\n    setLoading(false);\n  }\n\n  return (\n    <>\n      <br />\n      <Card style={{ width: \"30rem\" }} className={styles.card}>\n        <Card.Body>\n          <h2 className=\"text-center\">Log In</h2>\n          {error && <Alert variant=\"danger\">{error}</Alert>}\n          <Form onSubmit={handleSubmit}>\n            <Form.Group id=\"email\">\n              <Form.Label>Email</Form.Label>\n              <Form.Control\n                type=\"email\"\n                ref={emailRef}\n                onChange={({ target }) => setEmail(target.value)}\n                required\n              />\n            </Form.Group>\n            <Form.Group id=\"password\">\n              <Form.Label>Password</Form.Label>\n              <Form.Control\n                type=\"password\"\n                ref={passwordRef}\n                onChange={({ target }) => setPassword(target.value)}\n                required\n              />\n            </Form.Group>\n            <br />\n            <Button disabled={loading} className=\"w-100\" type=\"submit\">\n              Log In\n            </Button>\n          </Form>\n          <div className=\"w-100 text-center mt-3\">\n            <Link to=\"/forgotPass\">Forgot Password?</Link>\n          </div>\n        </Card.Body>\n      </Card>\n      <div className=\"w-100 text-center mt-2\">\n        Need an account? <Link to=\"/signup\">Sign Up</Link>\n      </div>\n    </>\n  );\n}\n","import React from \"react\"\nimport { Route, Redirect } from \"react-router-dom\"\nimport { useAuth } from \"../../contexts/AuthContext\"\n\nexport default function PrivateRoute({ component: Component, ...rest }) {\n  const { currentUser } = useAuth()\n\n  return (\n    <Route\n      {...rest}\n      render={props => {\n        return currentUser ? <Component {...props} /> : <Redirect to=\"/login\" />\n      }}\n    ></Route>\n  )\n}","import React, { useRef, useState } from \"react\"\nimport { Form, Button, Card, Alert } from \"react-bootstrap\"\nimport { useAuth } from \"../../contexts/AuthContext\"\nimport { Link } from \"react-router-dom\"\n\nimport styles from \"./Signup.module.scss\";\n\nexport default function ForgotPassword() {\n  const emailRef = useRef()\n  const { resetPassword } = useAuth()\n  const [error, setError] = useState(\"\")\n  const [message, setMessage] = useState(\"\")\n  const [loading, setLoading] = useState(false)\n\n  async function handleSubmit(e) {\n    e.preventDefault()\n\n    try {\n      setMessage(\"\")\n      setError(\"\")\n      setLoading(true)\n      await resetPassword(emailRef.current.value)\n      setMessage(\"Check your inbox for further instructions\")\n    } catch {\n      setError(\"Failed to reset password\")\n    }\n\n    setLoading(false)\n  }\n\n  return (\n    <>\n    <br />\n      <Card style={{ width: \"30rem\" }} className={styles.card}>\n        <Card.Body>\n          <h2 className=\"text-center mb-4\">Password Reset</h2>\n          {error && <Alert variant=\"danger\">{error}</Alert>}\n          {message && <Alert variant=\"success\">{message}</Alert>}\n          <Form onSubmit={handleSubmit}>\n            <Form.Group id=\"email\">\n              <Form.Label>Email</Form.Label>\n              <Form.Control type=\"email\" ref={emailRef} required />\n            </Form.Group>\n            <br />\n            <Button disabled={loading} className=\"w-100\" type=\"submit\">\n              Reset Password\n            </Button>\n          </Form>\n          <div className=\"w-100 text-center mt-3\">\n            <Link to=\"/login\">Login</Link>\n          </div>\n        </Card.Body>\n      </Card>\n      <div className=\"w-100 text-center mt-2\">\n        Need an account? <Link to=\"/signup\">Sign Up</Link>\n      </div>\n    </>\n  )\n}","import React, { useState, useEffect } from \"react\";\nimport Nav from \"./components/nav/Nav\";\nimport NavLink from \"./components/nav/navlink/NavLink\";\nimport Input from \"./components/form/Input\";\nimport Form from \"./components/form/Form\";\nimport Container from \"./components/container/Container\";\nimport Body from \"./components/body/Body\";\nimport Content from \"./components/content/Content\";\nimport Header from \"./components/header/Header\";\nimport AuthNav from \"./components/header/login/AuthNav\";\n\nimport logo from \"./assets/img/logo.png\";\n\nimport CreateTask from \"./pages/tasks/CreateTask\";\nimport DisplayTask from \"./pages/tasks/DisplayTask\";\nimport CreateProject from \"./pages/project/CreateProject\";\n\n//#region added by Yonghwan\nimport Tasks from \"./pages/tasks/Task\";\n//#endregion\n\nimport Calendar from \"./pages/calendar/Calendar\";\nimport Projects from \"./pages/project/Project\";\nimport DisplayProject from \"./pages/project/DisplayProject\";\nimport CreateProTask from \"./pages/project/CreateProTask\";\n\nimport Account from \"./pages/user/Account\";\nimport Signup from \"./pages/user/Signup\";\nimport Login from \"./pages/user/Login\";\nimport PrivateRoute from \"./pages/user/PrivateRoute\";\nimport ForgotPassword from \"./pages/user/ForgotPassword\";\nimport AuthProvider from \"./contexts/AuthContext\";\n\nimport { Switch, Route } from \"react-router-dom\";\nimport \"bootstrap/dist/css/bootstrap.css\";\n\nimport { auth } from \"./firebase\";\nimport EditUser from \"./pages/user/EditUser\";\n\nfunction App() {\n  const [isAuth, setIsAuth] = useState(false);\n  const [isActive, setIsActive] = useState({\n    project: false,\n    task: false,\n  });\n\n  const clickPathHandler = (e, path) => {\n    if (path === \"project\") {\n      setIsActive({\n        project: true,\n        task: false,\n      });\n    } else {\n      setIsActive({\n        project: false,\n        task: true,\n      });\n    }\n  };\n\n  useEffect(() => {\n    const unsubscribe = auth.onAuthStateChanged(async (user) => {\n      if (user) {\n        const idTokenResult = await user.getIdToken();\n        window.localStorage.setItem(\"token\", idTokenResult);\n      }\n    });\n\n    console.log(\"call?\");\n    if (window.localStorage.getItem(\"token\")) {\n      setIsAuth(true);\n    }\n    console.log(window.localStorage.getItem(\"token\"));\n    console.log(isAuth);\n\n    return () => unsubscribe();\n  }, []);\n\n  const authBody = (\n    <>\n      {isAuth ? (\n        <>\n          {\" \"}\n          <Nav>\n            {\" \"}\n            <NavLink\n              href=\"/project_list\"\n              isActive={isActive.project}\n              clickPathHandler={(e) => clickPathHandler(e, \"project\")}\n            >\n              Project\n            </NavLink>\n            <NavLink\n              href=\"/task_list\"\n              isActive={isActive.task}\n              clickPathHandler={(e) => clickPathHandler(e, \"task\")}\n            >\n              Task\n            </NavLink>\n          </Nav>\n        </>\n      ) : null}\n      <Content>\n        <AuthProvider>\n          <Switch>\n            <PrivateRoute exact path=\"/task_list\" component={Tasks} />\n            <PrivateRoute exact path=\"/task/:id\" component={DisplayTask} />\n            <PrivateRoute exact path=\"/project/task/:id\" component={DisplayTask} />\n            <PrivateRoute exact path=\"/createTask\" component={CreateTask} />\n            <PrivateRoute exact path=\"/project_list\" component={Projects} />\n            <PrivateRoute exact path=\"/createProject\" component={CreateProject} />\n            <PrivateRoute exact path=\"/project/:id\" component={DisplayProject} />\n            <PrivateRoute exact path=\"/account/\" component={Account} />\n            <PrivateRoute exact path=\"/createProjectTask/:id\" component={CreateProTask} />            \n            <PrivateRoute exact path=\"/\" component={Calendar} />\n            <Route path=\"/signup\" component={Signup} />\n            <Route path=\"/login\" component={Login} />\n            <Route path=\"/forgotPass\" component={ForgotPassword} />\n            <Route path=\"/editUser\" component={EditUser} />\n          </Switch>\n        </AuthProvider>\n      </Content>\n    </>\n  );\n\n  return (\n    <Container>\n      <Header>\n        {\" \"}\n        <a href=\"/\">\n          <img\n            src={logo}\n            alt=\"logo\"\n            style={{ height: \"3.25rem\", marginLeft: \"2rem\" }}\n          />\n        </a>\n        {/* <Form>\n          {\" \"}\n          <Input placeholder=\"Search by anything...\" />\n        </Form> */}\n        <AuthNav />\n      </Header>\n      <Body>{authBody}</Body>\n    </Container>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport { BrowserRouter } from \"react-router-dom\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />      \n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"Signup_card__1EyE2\",\"accountCard\":\"Signup_accountCard__17qLG\",\"csvlink\":\"Signup_csvlink__1BUDf\",\"deleteMessage\":\"Signup_deleteMessage__3h8IM\",\"reLoginMessage\":\"Signup_reLoginMessage__34EbA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"checkbox\":\"CheckBox_checkbox__1kjm0\",\"innerDiv\":\"CheckBox_innerDiv__3mLXG\",\"icon\":\"CheckBox_icon__3SMm_\",\"checked\":\"CheckBox_checked__ieZV6\",\"differentColor\":\"CheckBox_differentColor__2vcH4\",\"p1\":\"CheckBox_p1__3zUJd\",\"p2\":\"CheckBox_p2__x42-U\",\"p3\":\"CheckBox_p3__dy8jn\",\"p4\":\"CheckBox_p4__1BN4w\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userNav\":\"Login_userNav__24yhs\",\"userNav__iconBox\":\"Login_userNav__iconBox__3YIgo\",\"userNav__icon\":\"Login_userNav__icon__Xk6wp\",\"userNav__notification\":\"Login_userNav__notification__1A7st\",\"userNav__userPhoto\":\"Login_userNav__userPhoto__2yw6Z\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"sideNavItem\":\"NavLink_sideNavItem__142yE\",\"sideNavItemActive\":\"NavLink_sideNavItemActive__32cCX\",\"sideNavLink\":\"NavLink_sideNavLink__10p-7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"textInput\":\"Input_textInput__1xTD7\",\"dateInput\":\"Input_dateInput__3iDXj\"};"],"sourceRoot":""}